(function(b){b.L={VERSION:"0.3",ROOT_URL:b.L_ROOT_URL||function(){var h=document.getElementsByTagName("script"),g=/\/?leaflet[\-\._]?([\w\-\._]*)\.js\??/,o,n,m,k;for(o=0,n=h.length;o<n;o++){m=h[o].src,k=m.match(g);if(k){return k[1]==="include"?"../../dist/":m.split(g)[0]+"/"}}return""}(),noConflict:function(){return b.L=this._originalL,this},_originalL:b.L}})(this),L.Util={extend:function(h){var g=Array.prototype.slice.call(arguments,1);for(var o=0,n=g.length,m;o<n;o++){m=g[o]||{};for(var k in m){m.hasOwnProperty(k)&&(h[k]=m[k])}}return h},bind:function(d,c){return function(){return d.apply(c,arguments)}},stamp:function(){var d=0,c="_leaflet_id";return function(a){return a[c]=a[c]||++d,a[c]}}(),requestAnimFrame:function(){function d(b){window.setTimeout(b,1000/60)}var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||d;return function(h,g,b,a){h=g?L.Util.bind(h,g):h,b&&c===d?h():c(h,a)}}(),limitExecByInterval:function(k,h,q){function m(){p=!1,o&&(n.callee.apply(q,n),o=!1)}var p,o,n;return function(){n=arguments,p?o=!0:(p=!0,setTimeout(m,h),k.apply(q,n))}},falseFn:function(){return !1},formatNum:function(e,d){var f=Math.pow(10,d||5);return Math.round(e*f)/f},setOptions:function(d,c){d.options=L.Util.extend({},d.options,c)},getParamString:function(e){var d=[];for(var f in e){e.hasOwnProperty(f)&&d.push(f+"="+e[f])}return"?"+d.join("&")},template:function(d,c){return d.replace(/\{ *([\w_]+) *\}/g,function(b,f){var e=c[f];if(!c.hasOwnProperty(f)){throw Error("No value provided for variable "+b)}return e})}},L.Class=function(){},L.Class.extend=function(g){var f=function(){this.initialize&&this.initialize.apply(this,arguments)},m=function(){};m.prototype=this.prototype;var k=new m;k.constructor=f,f.prototype=k,f.superclass=this.prototype;for(var h in this){this.hasOwnProperty(h)&&h!=="prototype"&&h!=="superclass"&&(f[h]=this[h])}return g.statics&&(L.Util.extend(f,g.statics),delete g.statics),g.includes&&(L.Util.extend.apply(null,[k].concat(g.includes)),delete g.includes),g.options&&k.options&&(g.options=L.Util.extend({},k.options,g.options)),L.Util.extend(k,g),f.extend=L.Class.extend,f.include=function(b){L.Util.extend(this.prototype,b)},f},L.Mixin={},L.Mixin.Events={addEventListener:function(f,e,h){var g=this._leaflet_events=this._leaflet_events||{};return g[f]=g[f]||[],g[f].push({action:e,context:h||this}),this},hasEventListeners:function(d){var c="_leaflet_events";return c in this&&d in this[c]&&this[c][d].length>0},removeEventListener:function(h,g,o){if(!this.hasEventListeners(h)){return this}for(var n=0,m=this._leaflet_events,k=m[h].length;n<k;n++){if(m[h][n].action===g&&(!o||m[h][n].context===o)){return m[h].splice(n,1),this}}return this},fireEvent:function(h,g){if(!this.hasEventListeners(h)){return this}var o=L.Util.extend({type:h,target:this},g),n=this._leaflet_events[h].slice();for(var m=0,k=n.length;m<k;m++){n[m].action.call(n[m].context||this,o)}return this}},L.Mixin.Events.on=L.Mixin.Events.addEventListener,L.Mixin.Events.off=L.Mixin.Events.removeEventListener,L.Mixin.Events.fire=L.Mixin.Events.fireEvent,function(){var h=navigator.userAgent.toLowerCase(),g=!!window.ActiveXObject,o=h.indexOf("webkit")!==-1,n=typeof orientation!="undefined"?!0:!1,m=h.indexOf("android")!==-1,k=window.opera;L.Browser={ie:g,ie6:g&&!window.XMLHttpRequest,webkit:o,webkit3d:o&&"WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix,gecko:h.indexOf("gecko")!==-1,opera:k,android:m,mobileWebkit:n&&o,mobileOpera:n&&k,mobile:n,touch:function(){var e=!1,d="ontouchstart";if(d in document.documentElement){return !0}var f=document.createElement("div");return !f.setAttribute||!f.removeAttribute?!1:(f.setAttribute(d,"return;"),typeof f[d]=="function"&&(e=!0),f.removeAttribute(d),f=null,e)}()}}(),L.Point=function(e,d,f){this.x=f?Math.round(e):e,this.y=f?Math.round(d):d},L.Point.prototype={add:function(b){return this.clone()._add(b)},_add:function(b){return this.x+=b.x,this.y+=b.y,this},subtract:function(b){return this.clone()._subtract(b)},_subtract:function(b){return this.x-=b.x,this.y-=b.y,this},divideBy:function(d,c){return new L.Point(this.x/d,this.y/d,c)},multiplyBy:function(b){return new L.Point(this.x*b,this.y*b)},distanceTo:function(e){var d=e.x-this.x,f=e.y-this.y;return Math.sqrt(d*d+f*f)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},clone:function(){return new L.Point(this.x,this.y)},toString:function(){return"Point("+L.Util.formatNum(this.x)+", "+L.Util.formatNum(this.y)+")"}},L.Bounds=L.Class.extend({initialize:function(g,f){if(!g){return}var m=g instanceof Array?g:[g,f];for(var k=0,h=m.length;k<h;k++){this.extend(m[k])}},extend:function(b){!this.min&&!this.max?(this.min=new L.Point(b.x,b.y),this.max=new L.Point(b.x,b.y)):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(b.y,this.max.y))},getCenter:function(b){return new L.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,b)},contains:function(e){var d,f;return e instanceof L.Bounds?(d=e.min,f=e.max):d=f=e,d.x>=this.min.x&&f.x<=this.max.x&&d.y>=this.min.y&&f.y<=this.max.y},intersects:function(k){var h=this.min,q=this.max,p=k.min,o=k.max,n=o.x>=h.x&&p.x<=q.x,m=o.y>=h.y&&p.y<=q.y;return n&&m}}),L.Transformation=L.Class.extend({initialize:function(f,e,h,g){this._a=f,this._b=e,this._c=h,this._d=g},transform:function(d,c){return this._transform(d.clone(),c)},_transform:function(d,c){return c=c||1,d.x=c*(this._a*d.x+this._b),d.y=c*(this._c*d.y+this._d),d},untransform:function(d,c){return c=c||1,new L.Point((d.x/c-this._b)/this._a,(d.y/c-this._d)/this._c)}}),L.DomUtil={get:function(b){return typeof b=="string"?document.getElementById(b):b},getStyle:function(f,e){var h=f.style[e];!h&&f.currentStyle&&(h=f.currentStyle[e]);if(!h||h==="auto"){var g=document.defaultView.getComputedStyle(f,null);h=g?g[e]:null}return h==="auto"?null:h},getViewportOffset:function(g){var f=0,m=0,k=g,h=document.body;do{f+=k.offsetTop||0,m+=k.offsetLeft||0;if(k.offsetParent===h&&L.DomUtil.getStyle(k,"position")==="absolute"){break}k=k.offsetParent}while(k);k=g;do{if(k===h){break}f-=k.scrollTop||0,m-=k.scrollLeft||0,k=k.parentNode}while(k);return new L.Point(m,f)},create:function(f,e,h){var g=document.createElement(f);return g.className=e,h&&h.appendChild(g),g},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=L.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(d,c){return d.className.length>0&&RegExp("(^|\\s)"+c+"(\\s|$)").test(d.className)},addClass:function(d,c){L.DomUtil.hasClass(d,c)||(d.className+=(d.className?" ":"")+c)},removeClass:function(d,c){d.className=d.className.replace(/(\S+)\s*/g,function(b,e){return e===c?"":b}).replace(/^\s+/,"")},setOpacity:function(d,c){L.Browser.ie?d.style.filter="alpha(opacity="+Math.round(c*100)+")":d.style.opacity=c},testProp:function(e){var d=document.documentElement.style;for(var f=0;f<e.length;f++){if(e[f] in d){return e[f]}}return !1},getTranslateString:function(b){return L.DomUtil.TRANSLATE_OPEN+b.x+"px,"+b.y+"px"+L.DomUtil.TRANSLATE_CLOSE},getScaleString:function(g,f){var m=L.DomUtil.getTranslateString(f),k=" scale("+g+") ",h=L.DomUtil.getTranslateString(f.multiplyBy(-1));return m+k+h},setPosition:function(d,c){d._leaflet_pos=c,L.Browser.webkit3d?(d.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(c),L.Browser.android&&(d.style["-webkit-perspective"]="1000",d.style["-webkit-backface-visibility"]="hidden")):(d.style.left=c.x+"px",d.style.top=c.y+"px")},getPosition:function(b){return b._leaflet_pos}},L.Util.extend(L.DomUtil,{TRANSITION:L.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:L.DomUtil.testProp(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]),TRANSLATE_OPEN:"translate"+(L.Browser.webkit3d?"3d(":"("),TRANSLATE_CLOSE:L.Browser.webkit3d?",0)":")"}),L.LatLng=function(g,f,m){var k=parseFloat(g),h=parseFloat(f);if(isNaN(k)||isNaN(h)){throw Error("Invalid LatLng object: ("+g+", "+f+")")}m!==!0&&(k=Math.max(Math.min(k,90),-90),h=(h+180)%360+(h<-180||h===180?180:-180)),this.lat=k,this.lng=h},L.Util.extend(L.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),L.LatLng.prototype={equals:function(d){if(d instanceof L.LatLng){var c=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return c<=L.LatLng.MAX_MARGIN}return !1},toString:function(){return"LatLng("+L.Util.formatNum(this.lat)+", "+L.Util.formatNum(this.lng)+")"},distanceTo:function(u){var t=6378137,s=L.LatLng.DEG_TO_RAD,r=(u.lat-this.lat)*s,q=(u.lng-this.lng)*s,p=this.lat*s,o=u.lat*s,n=Math.sin(r/2),m=Math.sin(q/2),k=n*n+m*m*Math.cos(p)*Math.cos(o);return t*2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))}},L.LatLngBounds=L.Class.extend({initialize:function(g,f){if(!g){return}var m=g instanceof Array?g:[g,f];for(var k=0,h=m.length;k<h;k++){this.extend(m[k])}},extend:function(b){!this._southWest&&!this._northEast?(this._southWest=new L.LatLng(b.lat,b.lng,!0),this._northEast=new L.LatLng(b.lat,b.lng,!0)):(this._southWest.lat=Math.min(b.lat,this._southWest.lat),this._southWest.lng=Math.min(b.lng,this._southWest.lng),this._northEast.lat=Math.max(b.lat,this._northEast.lat),this._northEast.lng=Math.max(b.lng,this._northEast.lng))},getCenter:function(){return new L.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new L.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new L.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(g){var f=this._southWest,m=this._northEast,k,h;return g instanceof L.LatLngBounds?(k=g.getSouthWest(),h=g.getNorthEast()):k=h=g,k.lat>=f.lat&&h.lat<=m.lat&&k.lng>=f.lng&&h.lng<=m.lng},intersects:function(k){var h=this._southWest,q=this._northEast,p=k.getSouthWest(),o=k.getNorthEast(),n=o.lat>=h.lat&&p.lat<=q.lat,m=o.lng>=h.lng&&p.lng<=q.lng;return n&&m},toBBoxString:function(){var d=this._southWest,c=this._northEast;return[d.lng,d.lat,c.lng,c.lat].join(",")}}),L.Projection={},L.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(h){var g=L.LatLng.DEG_TO_RAD,o=this.MAX_LATITUDE,n=Math.max(Math.min(o,h.lat),-o),m=h.lng*g,k=n*g;return k=Math.log(Math.tan(Math.PI/4+k/2)),new L.Point(m,k)},unproject:function(g,f){var m=L.LatLng.RAD_TO_DEG,k=g.x*m,h=(2*Math.atan(Math.exp(g.y))-Math.PI/2)*m;return new L.LatLng(h,k,f)}},L.Projection.LonLat={project:function(b){return new L.Point(b.lng,b.lat)},unproject:function(d,c){return new L.LatLng(d.y,d.x,c)}},L.CRS={latLngToPoint:function(e,d){var f=this.projection.project(e);return this.transformation._transform(f,d)},pointToLatLng:function(f,e,h){var g=this.transformation.untransform(f,e);return this.projection.unproject(g,h)},project:function(b){return this.projection.project(b)}},L.CRS.EPSG3857=L.Util.extend({},L.CRS,{code:"EPSG:3857",projection:L.Projection.SphericalMercator,transformation:new L.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(e){var d=this.projection.project(e),f=6378137;return d.multiplyBy(f)}}),L.CRS.EPSG900913=L.Util.extend({},L.CRS.EPSG3857,{code:"EPSG:900913"}),L.CRS.EPSG4326=L.Util.extend({},L.CRS,{code:"EPSG:4326",projection:L.Projection.LonLat,transformation:new L.Transformation(1/360,0.5,-1/360,0.5)}),L.Map=L.Class.extend({includes:L.Mixin.Events,options:{crs:L.CRS.EPSG3857||L.CRS.EPSG4326,scale:function(b){return 256*Math.pow(2,b)},center:null,zoom:null,layers:[],dragging:!0,touchZoom:L.Browser.touch&&!L.Browser.android,scrollWheelZoom:!L.Browser.touch,doubleClickZoom:!0,boxZoom:!0,zoomControl:!0,attributionControl:!0,fadeAnimation:L.DomUtil.TRANSITION&&!L.Browser.android,zoomAnimation:L.DomUtil.TRANSITION&&!L.Browser.android&&!L.Browser.mobileOpera,trackResize:!0,closePopupOnClick:!0,worldCopyJump:!0},initialize:function(g,f){L.Util.setOptions(this,f),this._container=L.DomUtil.get(g);if(this._container._leaflet){throw Error("Map container is already initialized.")}this._container._leaflet=!0,this._initLayout(),L.DomEvent&&(this._initEvents(),L.Handler&&this._initInteraction(),L.Control&&this._initControls()),this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds);var m=this.options.center,k=this.options.zoom;m!==null&&k!==null&&this.setView(m,k,!0);var h=this.options.layers;h=h instanceof Array?h:[h],this._tileLayersNum=0,this._initLayers(h)},setView:function(d,c){return this._resetView(d,this._limitZoom(c)),this},setZoom:function(b){return this.setView(this.getCenter(),b)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(d){var c=this.getBoundsZoom(d);return this.setView(d.getCenter(),c)},fitWorld:function(){var d=new L.LatLng(-60,-170),c=new L.LatLng(85,179);return this.fitBounds(new L.LatLngBounds(d,c))},panTo:function(b){return this.setView(b,this._zoom)},panBy:function(b){return this.fire("movestart"),this._rawPanBy(b),this.fire("move"),this.fire("moveend"),this},setMaxBounds:function(d){this.options.maxBounds=d;if(!d){return this._boundsMinZoom=null,this}var c=this.getBoundsZoom(d,!0);return this._boundsMinZoom=c,this._loaded&&(this._zoom<c?this.setView(d.getCenter(),c):this.panInsideBounds(d)),this},panInsideBounds:function(m){var k=this.getBounds(),s=this.project(k.getSouthWest()),r=this.project(k.getNorthEast()),q=this.project(m.getSouthWest()),p=this.project(m.getNorthEast()),o=0,n=0;return r.y<p.y&&(n=p.y-r.y),r.x>p.x&&(o=p.x-r.x),s.y>q.y&&(n=q.y-s.y),s.x<q.x&&(o=q.x-s.x),this.panBy(new L.Point(o,n,!0))},addLayer:function(f,e){var h=L.Util.stamp(f);if(this._layers[h]){return this}this._layers[h]=f,f.options&&!isNaN(f.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,f.options.maxZoom)),f.options&&!isNaN(f.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||Infinity,f.options.minZoom)),this.options.zoomAnimation&&L.TileLayer&&f instanceof L.TileLayer&&(this._tileLayersNum++,f.on("load",this._onTileLayerLoad,this)),this.attributionControl&&f.getAttribution&&this.attributionControl.addAttribution(f.getAttribution());var g=function(){f.onAdd(this,e),this.fire("layeradd",{layer:f})};return this._loaded?g.call(this):this.on("load",g,this),this},removeLayer:function(d){var c=L.Util.stamp(d);return this._layers[c]&&(d.onRemove(this),delete this._layers[c],this.options.zoomAnimation&&L.TileLayer&&d instanceof L.TileLayer&&(this._tileLayersNum--,d.off("load",this._onTileLayerLoad,this)),this.attributionControl&&d.getAttribution&&this.attributionControl.removeAttribution(d.getAttribution()),this.fire("layerremove",{layer:d})),this},hasLayer:function(d){var c=L.Util.stamp(d);return this._layers.hasOwnProperty(c)},invalidateSize:function(){var b=this.getSize();return this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),this._loaded?(this._rawPanBy(b.subtract(this.getSize()).divideBy(2,!0)),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(L.Util.bind(function(){this.fire("moveend")},this),200),this):this},getCenter:function(e){var d=this.getSize().divideBy(2),f=this._getTopLeftPoint().add(d);return this.unproject(f,this._zoom,e)},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),d=this.unproject(new L.Point(e.min.x,e.max.y),this._zoom,!0),f=this.unproject(new L.Point(e.max.x,e.min.y),this._zoom,!0);return new L.LatLngBounds(d,f)},getMinZoom:function(){var e=this.options.minZoom||0,d=this._layersMinZoom||0,f=this._boundsMinZoom||0;return Math.max(e,d,f)},getMaxZoom:function(){var d=isNaN(this.options.maxZoom)?Infinity:this.options.maxZoom,c=this._layersMaxZoom||Infinity;return Math.min(d,c)},getBoundsZoom:function(x,v){var u=this.getSize(),t=this.options.minZoom||0,s=this.getMaxZoom(),r=x.getNorthEast(),q=x.getSouthWest(),p,o,n,m=!0;v&&t--;do{t++,o=this.project(r,t),n=this.project(q,t),p=new L.Point(o.x-n.x,n.y-o.y),v?m=p.x<u.x||p.y<u.y:m=p.x<=u.x&&p.y<=u.y}while(m&&t<=s);return m&&v?null:v?t:t-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new L.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1}return this._size},getPixelBounds:function(){var d=this._getTopLeftPoint(),c=this.getSize();return new L.Bounds(d,d.add(c))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},mouseEventToContainerPoint:function(b){return L.DomEvent.getMousePosition(b,this._container)},mouseEventToLayerPoint:function(b){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(b))},mouseEventToLatLng:function(b){return this.layerPointToLatLng(this.mouseEventToLayerPoint(b))},containerPointToLayerPoint:function(b){return b.subtract(L.DomUtil.getPosition(this._mapPane))},layerPointToContainerPoint:function(b){return b.add(L.DomUtil.getPosition(this._mapPane))},layerPointToLatLng:function(b){return this.unproject(b.add(this._initialTopLeftPoint))},latLngToLayerPoint:function(b){return this.project(b)._round()._subtract(this._initialTopLeftPoint)},project:function(d,c){return c=typeof c=="undefined"?this._zoom:c,this.options.crs.latLngToPoint(d,this.options.scale(c))},unproject:function(e,d,f){return d=typeof d=="undefined"?this._zoom:d,this.options.crs.pointToLatLng(e,this.options.scale(d),f)},_initLayout:function(){var d=this._container;d.innerHTML="",d.className+=" leaflet-container",this.options.fadeAnimation&&(d.className+=" leaflet-fade-anim");var c=L.DomUtil.getStyle(d,"position");c!=="absolute"&&c!=="relative"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var b=this._panes={};this._mapPane=b.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=b.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),this._objectsPane=b.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),b.shadowPane=this._createPane("leaflet-shadow-pane"),b.overlayPane=this._createPane("leaflet-overlay-pane"),b.markerPane=this._createPane("leaflet-marker-pane"),b.popupPane=this._createPane("leaflet-popup-pane")},_createPane:function(d,c){return L.DomUtil.create("div",d,c||this._objectsPane)},_resetView:function(h,g,o,n){var m=this._zoom!==g;n||(this.fire("movestart"),m&&this.fire("zoomstart")),this._zoom=g,this._initialTopLeftPoint=this._getNewTopLeftPoint(h);if(!o){L.DomUtil.setPosition(this._mapPane,new L.Point(0,0))}else{var k=L.DomUtil.getPosition(this._mapPane);this._initialTopLeftPoint._add(k)}this._tileLayersToLoad=this._tileLayersNum,this.fire("viewreset",{hard:!o}),this.fire("move"),(m||n)&&this.fire("zoomend"),this.fire("moveend"),this._loaded||(this._loaded=!0,this.fire("load"))},_initLayers:function(e){this._layers={};var d,f;for(d=0,f=e.length;d<f;d++){this.addLayer(e[d])}},_initControls:function(){this.options.zoomControl&&this.addControl(new L.Control.Zoom),this.options.attributionControl&&(this.attributionControl=new L.Control.Attribution,this.addControl(this.attributionControl))},_rawPanBy:function(d){var c=L.DomUtil.getPosition(this._mapPane);L.DomUtil.setPosition(this._mapPane,c.subtract(d))},_initEvents:function(){L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);var e=["dblclick","mousedown","mouseenter","mouseleave","mousemove","contextmenu"],d,f;for(d=0,f=e.length;d<f;d++){L.DomEvent.addListener(this._container,e[d],this._fireMouseEvent,this)}this.options.trackResize&&L.DomEvent.addListener(window,"resize",this._onResize,this)},_onResize:function(){L.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(b){if(!this._loaded||this.dragging&&this.dragging.moved()){return}this.fire("pre"+b.type),this._fireMouseEvent(b)},_fireMouseEvent:function(d){if(!this._loaded){return}var c=d.type;c=c==="mouseenter"?"mouseover":c==="mouseleave"?"mouseout":c;if(!this.hasEventListeners(c)){return}c==="contextmenu"&&L.DomEvent.preventDefault(d),this.fire(c,{latlng:this.mouseEventToLatLng(d),layerPoint:this.mouseEventToLayerPoint(d)})},_initInteraction:function(){var d={dragging:L.Map.Drag,touchZoom:L.Map.TouchZoom,doubleClickZoom:L.Map.DoubleClickZoom,scrollWheelZoom:L.Map.ScrollWheelZoom,boxZoom:L.Map.BoxZoom},c;for(c in d){d.hasOwnProperty(c)&&d[c]&&(this[c]=new d[c](this),this.options[c]&&this[c].enable())}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(L.Util.bind(this._clearTileBg,this),500))},_getTopLeftPoint:function(){if(!this._loaded){throw Error("Set map center and zoom first.")}var b=L.DomUtil.getPosition(this._mapPane);return this._initialTopLeftPoint.subtract(b)},_getNewTopLeftPoint:function(d){var c=this.getSize().divideBy(2);return this.project(d).subtract(c).round()},_limitZoom:function(e){var d=this.getMinZoom(),f=this.getMaxZoom();return Math.max(d,Math.min(f,e))}}),L.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(y){var x=L.LatLng.DEG_TO_RAD,v=this.MAX_LATITUDE,u=Math.max(Math.min(v,y.lat),-v),t=this.R_MAJOR,s=this.R_MINOR,r=y.lng*x*t,q=u*x,p=s/t,o=Math.sqrt(1-p*p),n=o*Math.sin(q);n=Math.pow((1-n)/(1+n),o*0.5);var m=Math.tan(0.5*(Math.PI*0.5-q))/n;return q=-s*Math.log(m),new L.Point(r,q)},unproject:function(E,D){var C=L.LatLng.RAD_TO_DEG,B=this.R_MAJOR,A=this.R_MINOR,z=E.x*C/B,y=A/B,x=Math.sqrt(1-y*y),v=Math.exp(-E.y/A),u=Math.PI/2-2*Math.atan(v),t=15,s=1e-7,r=t,q=0.1,p;while(Math.abs(q)>s&&--r>0){p=x*Math.sin(u),q=Math.PI/2-2*Math.atan(v*Math.pow((1-p)/(1+p),0.5*x))-u,u+=q}return new L.LatLng(u*C,z,D)}},L.CRS.EPSG3395=L.Util.extend({},L.CRS,{code:"EPSG:3395",projection:L.Projection.Mercator,transformation:function(){var e=L.Projection.Mercator,d=e.R_MAJOR,f=e.R_MINOR;return new L.Transformation(0.5/(Math.PI*d),0.5,-0.5/(Math.PI*f),0.5)}()}),L.TileLayer=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,scheme:"xyz",continuousWorld:!1,noWrap:!1,zoomOffset:0,zoomReverse:!1,unloadInvisibleTiles:L.Browser.mobile,updateWhenIdle:L.Browser.mobile,reuseTiles:!1},initialize:function(e,d,f){L.Util.setOptions(this,d),this._url=e,this._urlParams=f,typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""))},onAdd:function(d,c){this._map=d,this._insertAtTheBottom=c,this._initContainer(),this._createTileProto(),d.on("viewreset",this._resetCallback,this),this.options.updateWhenIdle?d.on("moveend",this._update,this):(this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this),d.on("move",this._limitedUpdate,this)),this._reset(),this._update()},onRemove:function(b){this._map.getPanes().tilePane.removeChild(this._container),this._container=null,this._map.off("viewreset",this._resetCallback,this),this.options.updateWhenIdle?this._map.off("moveend",this._update,this):this._map.off("move",this._limitedUpdate,this)},getAttribution:function(){return this.options.attribution},setOpacity:function(d){this.options.opacity=d,this._setOpacity(d);if(L.Browser.webkit){for(var c in this._tiles){this._tiles.hasOwnProperty(c)&&(this._tiles[c].style.webkitTransform+=" translate(0,0)")}}},_setOpacity:function(b){b<1&&L.DomUtil.setOpacity(this._container,b)},_initContainer:function(){var d=this._map.getPanes().tilePane,c=d.firstChild;if(!this._container||d.empty){this._container=L.DomUtil.create("div","leaflet-layer"),this._insertAtTheBottom&&c?d.insertBefore(this._container,c):d.appendChild(this._container),this._setOpacity(this.options.opacity)}},_resetCallback:function(b){this._reset(b.hard)},_reset:function(d){var c;for(c in this._tiles){this._tiles.hasOwnProperty(c)&&this.fire("tileunload",{tile:this._tiles[c]})}this._tiles={},this.options.reuseTiles&&(this._unusedTiles=[]),d&&this._container&&(this._container.innerHTML=""),this._initContainer()},_update:function(){var h=this._map.getPixelBounds(),g=this._map.getZoom(),o=this.options.tileSize;if(g>this.options.maxZoom||g<this.options.minZoom){return}var n=new L.Point(Math.floor(h.min.x/o),Math.floor(h.min.y/o)),m=new L.Point(Math.floor(h.max.x/o),Math.floor(h.max.y/o)),k=new L.Bounds(n,m);this._addTilesFromCenterOut(k),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(k)},_addTilesFromCenterOut:function(m){var k=[],s=m.getCenter();for(var r=m.min.y;r<=m.max.y;r++){for(var q=m.min.x;q<=m.max.x;q++){if(q+":"+r in this._tiles){continue}k.push(new L.Point(q,r))}}k.sort(function(d,c){return d.distanceTo(s)-c.distanceTo(s)});var p=document.createDocumentFragment();this._tilesToLoad=k.length;for(var o=0,n=this._tilesToLoad;o<n;o++){this._addTile(k[o],p)}this._container.appendChild(p)},_removeOtherTiles:function(h){var g,o,n,m,k;for(m in this._tiles){if(this._tiles.hasOwnProperty(m)){g=m.split(":"),o=parseInt(g[0],10),n=parseInt(g[1],10);if(o<h.min.x||o>h.max.x||n<h.min.y||n>h.max.y){k=this._tiles[m],this.fire("tileunload",{tile:k,url:k.src}),k.parentNode===this._container&&this._container.removeChild(k),this.options.reuseTiles&&this._unusedTiles.push(this._tiles[m]),k.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",delete this._tiles[m]}}}},_addTile:function(k,h){var q=this._getTilePos(k),p=this._map.getZoom(),o=k.x+":"+k.y,n=Math.pow(2,this._getOffsetZoom(p));if(!this.options.continuousWorld){if(!this.options.noWrap){k.x=(k.x%n+n)%n}else{if(k.x<0||k.x>=n){this._tilesToLoad--;return}}if(k.y<0||k.y>=n){this._tilesToLoad--;return}}var m=this._getTile();L.DomUtil.setPosition(m,q),this._tiles[o]=m,this.options.scheme==="tms"&&(k.y=n-k.y-1),this._loadTile(m,k,p),h.appendChild(m)},_getOffsetZoom:function(b){return b=this.options.zoomReverse?this.options.maxZoom-b:b,b+this.options.zoomOffset},_getTilePos:function(e){var d=this._map.getPixelOrigin(),f=this.options.tileSize;return e.multiplyBy(f).subtract(d)},getTileUrl:function(f,e){var h=this.options.subdomains,g=this.options.subdomains[(f.x+f.y)%h.length];return L.Util.template(this._url,L.Util.extend({s:g,z:this._getOffsetZoom(e),x:f.x,y:f.y},this._urlParams))},_createTileProto:function(){this._tileImg=L.DomUtil.create("img","leaflet-tile"),this._tileImg.galleryimg="no";var b=this.options.tileSize;this._tileImg.style.width=b+"px",this._tileImg.style.height=b+"px"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var b=this._unusedTiles.pop();return this._resetTile(b),b}return this._createTile()},_resetTile:function(b){},_createTile:function(){var b=this._tileImg.cloneNode(!1);return b.onselectstart=b.onmousemove=L.Util.falseFn,b},_loadTile:function(e,d,f){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,e.src=this.getTileUrl(d,f)},_tileOnLoad:function(d){var c=this._layer;this.className+=" leaflet-tile-loaded",c.fire("tileload",{tile:this,url:this.src}),c._tilesToLoad--,c._tilesToLoad||c.fire("load")},_tileOnError:function(e){var d=this._layer;d.fire("tileerror",{tile:this,url:this.src});var f=d.options.errorTileUrl;f&&(this.src=f)}}),L.TileLayer.WMS=L.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,d){this._url=e,this.wmsParams=L.Util.extend({},this.defaultWmsParams),this.wmsParams.width=this.wmsParams.height=this.options.tileSize;for(var f in d){this.options.hasOwnProperty(f)||(this.wmsParams[f]=d[f])}L.Util.setOptions(this,d)},onAdd:function(d){var c=parseFloat(this.wmsParams.version)<1.3?"srs":"crs";this.wmsParams[c]=d.options.crs.code,L.TileLayer.prototype.onAdd.call(this,d)},getTileUrl:function(u,t){var s=this.options.tileSize,r=u.multiplyBy(s),q=r.add(new L.Point(s,s)),p=this._map.unproject(r,this._zoom,!0),o=this._map.unproject(q,this._zoom,!0),n=this._map.options.crs.project(p),m=this._map.options.crs.project(o),k=[n.x,m.y,m.x,n.y].join(",");return this._url+L.Util.getParamString(this.wmsParams)+"&bbox="+k}}),L.TileLayer.Canvas=L.TileLayer.extend({options:{async:!1},initialize:function(b){L.Util.setOptions(this,b)},redraw:function(){for(var d in this._tiles){var c=this._tiles[d];this._redrawTile(c)}},_redrawTile:function(b){this.drawTile(b,b._tilePoint,b._zoom)},_createTileProto:function(){this._canvasProto=L.DomUtil.create("canvas","leaflet-tile");var b=this.options.tileSize;this._canvasProto.width=b,this._canvasProto.height=b},_createTile:function(){var b=this._canvasProto.cloneNode(!1);return b.onselectstart=b.onmousemove=L.Util.falseFn,b},_loadTile:function(e,d,f){e._layer=this,e._tilePoint=d,e._zoom=f,this.drawTile(e,d,f),this.options.async||this.tileDrawn(e)},drawTile:function(e,d,f){},tileDrawn:function(b){this._tileOnLoad.call(b)}}),L.ImageOverlay=L.Class.extend({includes:L.Mixin.Events,initialize:function(d,c){this._url=d,this._bounds=c},onAdd:function(b){this._map=b,this._image||this._initImage(),b.getPanes().overlayPane.appendChild(this._image),b.on("viewreset",this._reset,this),this._reset()},onRemove:function(b){b.getPanes().overlayPane.removeChild(this._image),b.off("viewreset",this._reset,this)},_initImage:function(){this._image=L.DomUtil.create("img","leaflet-image-layer"),this._image.style.visibility="hidden",L.Util.extend(this._image,{galleryimg:"no",onselectstart:L.Util.falseFn,onmousemove:L.Util.falseFn,onload:L.Util.bind(this._onImageLoad,this),src:this._url})},_reset:function(){var e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),d=this._map.latLngToLayerPoint(this._bounds.getSouthEast()),f=d.subtract(e);L.DomUtil.setPosition(this._image,e),this._image.style.width=f.x+"px",this._image.style.height=f.y+"px"},_onImageLoad:function(){this._image.style.visibility="",this.fire("load")}}),L.Icon=L.Class.extend({iconUrl:L.ROOT_URL+"images/marker.png",shadowUrl:L.ROOT_URL+"images/marker-shadow.png",iconSize:new L.Point(25,41),shadowSize:new L.Point(41,41),iconAnchor:new L.Point(13,41),popupAnchor:new L.Point(0,-33),initialize:function(b){b&&(this.iconUrl=b)},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(f){var e=this[f+"Size"],h=this[f+"Url"];if(!h&&f==="shadow"){return null}var g;return h?g=this._createImg(h):g=this._createDiv(),g.className="leaflet-marker-"+f,g.style.marginLeft=-this.iconAnchor.x+"px",g.style.marginTop=-this.iconAnchor.y+"px",e&&(g.style.width=e.x+"px",g.style.height=e.y+"px"),g},_createImg:function(d){var c;return L.Browser.ie6?(c=document.createElement("div"),c.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+d+'")'):(c=document.createElement("img"),c.src=d),c},_createDiv:function(){return document.createElement("div")}}),L.Marker=L.Class.extend({includes:L.Mixin.Events,options:{icon:new L.Icon,title:"",clickable:!0,draggable:!1,zIndexOffset:0},initialize:function(d,c){L.Util.setOptions(this,c),this._latlng=d},onAdd:function(b){this._map=b,this._initIcon(),b.on("viewreset",this._reset,this),this._reset()},onRemove:function(b){this._removeIcon(),this.closePopup&&this.closePopup(),this._map=null,b.off("viewreset",this._reset,this)},getLatLng:function(){return this._latlng},setLatLng:function(b){this._latlng=b,this._icon&&(this._reset(),this._popup&&this._popup.setLatLng(this._latlng))},setZIndexOffset:function(b){this.options.zIndexOffset=b,this._icon&&this._reset()},setIcon:function(b){this._map&&this._removeIcon(),this.options.icon=b,this._map&&(this._initIcon(),this._reset())},_initIcon:function(){this._icon||(this._icon=this.options.icon.createIcon(),this.options.title&&(this._icon.title=this.options.title),this._initInteraction()),this._shadow||(this._shadow=this.options.icon.createShadow()),this._map._panes.markerPane.appendChild(this._icon),this._shadow&&this._map._panes.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this._map._panes.markerPane.removeChild(this._icon),this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_reset:function(){var b=this._map.latLngToLayerPoint(this._latlng).round();L.DomUtil.setPosition(this._icon,b),this._shadow&&L.DomUtil.setPosition(this._shadow,b),this._icon.style.zIndex=b.y+this.options.zIndexOffset},_initInteraction:function(){if(this.options.clickable){this._icon.className+=" leaflet-clickable",L.DomEvent.addListener(this._icon,"click",this._onMouseClick,this);var d=["dblclick","mousedown","mouseover","mouseout"];for(var c=0;c<d.length;c++){L.DomEvent.addListener(this._icon,d[c],this._fireMouseEvent,this)}}L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())},_onMouseClick:function(b){L.DomEvent.stopPropagation(b);if(this.dragging&&this.dragging.moved()){return}this.fire(b.type)},_fireMouseEvent:function(b){this.fire(b.type),L.DomEvent.stopPropagation(b)}}),L.Popup=L.Class.extend({includes:L.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:new L.Point(0,2),autoPanPadding:new L.Point(5,5),className:""},initialize:function(d,c){L.Util.setOptions(this,d),this._source=c},onAdd:function(b){this._map=b,this._container||this._initLayout(),this._updateContent(),this._container.style.opacity="0",this._map._panes.popupPane.appendChild(this._container),this._map.on("viewreset",this._updatePosition,this),this._map.options.closePopupOnClick&&this._map.on("preclick",this._close,this),this._update(),this._container.style.opacity="1",this._opened=!0},onRemove:function(b){b._panes.popupPane.removeChild(this._container),L.Util.falseFn(this._container.offsetWidth),b.off("viewreset",this._updatePosition,this),b.off("click",this._close,this),this._container.style.opacity="0",this._opened=!1},setLatLng:function(b){return this._latlng=b,this._opened&&this._update(),this},setContent:function(b){return this._content=b,this._opened&&this._update(),this},_close:function(){this._opened&&this._map.closePopup()},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-popup "+this.options.className),this.options.closeButton&&(this._closeButton=L.DomUtil.create("a","leaflet-popup-close-button",this._container),this._closeButton.href="#close",L.DomEvent.addListener(this._closeButton,"click",this._onCloseButtonClick,this)),this._wrapper=L.DomUtil.create("div","leaflet-popup-content-wrapper",this._container),L.DomEvent.disableClickPropagation(this._wrapper),this._contentNode=L.DomUtil.create("div","leaflet-popup-content",this._wrapper),this._tipContainer=L.DomUtil.create("div","leaflet-popup-tip-container",this._container),this._tip=L.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_update:function(){this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan()},_updateContent:function(){if(!this._content){return}typeof this._content=="string"?this._contentNode.innerHTML=this._content:(this._contentNode.innerHTML="",this._contentNode.appendChild(this._content))},_updateLayout:function(){this._container.style.width="",this._container.style.whiteSpace="nowrap";var b=this._container.offsetWidth;this._container.style.width=(b>this.options.maxWidth?this.options.maxWidth:b<this.options.minWidth?this.options.minWidth:b)+"px",this._container.style.whiteSpace="",this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var b=this._map.latLngToLayerPoint(this._latlng);this._containerBottom=-b.y-this.options.offset.y,this._containerLeft=b.x-Math.round(this._containerWidth/2)+this.options.offset.x,this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_adjustPan:function(){if(!this.options.autoPan){return}var h=this._container.offsetHeight,g=new L.Point(this._containerLeft,-h-this._containerBottom),o=this._map.layerPointToContainerPoint(g),n=new L.Point(0,0),m=this.options.autoPanPadding,k=this._map.getSize();o.x<0&&(n.x=o.x-m.x),o.x+this._containerWidth>k.x&&(n.x=o.x+this._containerWidth-k.x+m.x),o.y<0&&(n.y=o.y-m.y),o.y+h>k.y&&(n.y=o.y+h-k.y+m.y),(n.x||n.y)&&this._map.panBy(n)},_onCloseButtonClick:function(b){this._close(),L.DomEvent.stop(b)}}),L.Marker.include({openPopup:function(){return this._popup.setLatLng(this._latlng),this._map&&this._map.openPopup(this._popup),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(d,c){return c=L.Util.extend({offset:this.options.icon.popupAnchor},c),this._popup||this.on("click",this.openPopup,this),this._popup=new L.Popup(c,this),this._popup.setContent(d),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.openPopup)),this}}),L.Map.include({openPopup:function(b){return this.closePopup(),this._popup=b,this.addLayer(b),this.fire("popupopen",{popup:this._popup}),this},closePopup:function(){return this._popup&&(this.removeLayer(this._popup),this.fire("popupclose",{popup:this._popup}),this._popup=null),this}}),L.LayerGroup=L.Class.extend({initialize:function(e){this._layers={};if(e){for(var d=0,f=e.length;d<f;d++){this.addLayer(e[d])}}},addLayer:function(d){var c=L.Util.stamp(d);return this._layers[c]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var c=L.Util.stamp(d);return delete this._layers[c],this._map&&this._map.removeLayer(d),this},clearLayers:function(){return this._iterateLayers(this.removeLayer,this),this},invoke:function(f){var e=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers){this._layers.hasOwnProperty(h)&&(g=this._layers[h],g[f]&&g[f].apply(g,e))}return this},onAdd:function(b){this._map=b,this._iterateLayers(b.addLayer,b)},onRemove:function(b){this._iterateLayers(b.removeLayer,b),delete this._map},_iterateLayers:function(e,d){for(var f in this._layers){this._layers.hasOwnProperty(f)&&e.call(d,this._layers[f])}}}),L.FeatureGroup=L.LayerGroup.extend({includes:L.Mixin.Events,addLayer:function(b){this._initEvents(b),L.LayerGroup.prototype.addLayer.call(this,b),this._popupContent&&b.bindPopup&&b.bindPopup(this._popupContent)},bindPopup:function(b){return this._popupContent=b,this.invoke("bindPopup",b)},setStyle:function(b){return this.invoke("setStyle",b)},_events:["click","dblclick","mouseover","mouseout"],_initEvents:function(e){for(var d=0,f=this._events.length;d<f;d++){e.on(this._events[d],this._propagateEvent,this)}},_propagateEvent:function(b){b.layer=b.target,b.target=this,this.fire(b.type,b)}}),L.Path=L.Class.extend({includes:[L.Mixin.Events],statics:{CLIP_PADDING:0.5},options:{stroke:!0,color:"#0033ff",weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0,updateOnMoveEnd:!0},initialize:function(b){L.Util.setOptions(this,b)},onAdd:function(b){this._map=b,this._initElements(),this._initEvents(),this.projectLatlngs(),this._updatePath(),b.on("viewreset",this.projectLatlngs,this),this._updateTrigger=this.options.updateOnMoveEnd?"moveend":"viewreset",b.on(this._updateTrigger,this._updatePath,this)},onRemove:function(b){this._map=null,b._pathRoot.removeChild(this._container),b.off("viewreset",this.projectLatlngs,this),b.off(this._updateTrigger,this._updatePath,this)},projectLatlngs:function(){},setStyle:function(b){return L.Util.setOptions(this,b),this._container&&this._updateStyle(),this},_redraw:function(){this._map&&(this.projectLatlngs(),this._updatePath())}}),L.Map.include({_updatePathViewport:function(){var g=L.Path.CLIP_PADDING,f=this.getSize(),m=L.DomUtil.getPosition(this._mapPane),k=m.multiplyBy(-1).subtract(f.multiplyBy(g)),h=k.add(f.multiplyBy(1+g*2));this._pathViewport=new L.Bounds(k,h)}}),L.Path.SVG_NS="http://www.w3.org/2000/svg",L.Browser.svg=!!document.createElementNS&&!!document.createElementNS(L.Path.SVG_NS,"svg").createSVGRect,L.Path=L.Path.extend({statics:{SVG:L.Browser.svg,_createElement:function(b){return document.createElementNS(L.Path.SVG_NS,b)}},getPathString:function(){},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=L.Path._createElement("g"),this._path=L.Path._createElement("path"),this._container.appendChild(this._path),this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill?this._path.setAttribute("fill-rule","evenodd"):this._path.setAttribute("fill","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight)),this.options.fill&&(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity))},_updatePath:function(){var b=this.getPathString();b||(b="M0 0"),this._path.setAttribute("d",b)},_initEvents:function(){if(this.options.clickable){L.Browser.vml||this._path.setAttribute("class","leaflet-clickable"),L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);var d=["dblclick","mousedown","mouseover","mouseout","mousemove"];for(var c=0;c<d.length;c++){L.DomEvent.addListener(this._container,d[c],this._fireMouseEvent,this)}}},_onMouseClick:function(b){if(this._map.dragging&&this._map.dragging.moved()){return}this._fireMouseEvent(b)},_fireMouseEvent:function(b){if(!this.hasEventListeners(b.type)){return}this.fire(b.type,{latlng:this._map.mouseEventToLatLng(b),layerPoint:this._map.mouseEventToLayerPoint(b)}),L.DomEvent.stopPropagation(b)}}),L.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=L.Path._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_updateSvgViewport:function(){this._updatePathViewport();var k=this._pathViewport,h=k.min,q=k.max,p=q.x-h.x,o=q.y-h.y,n=this._pathRoot,m=this._panes.overlayPane;L.Browser.webkit&&m.removeChild(n),L.DomUtil.setPosition(n,h),n.setAttribute("width",p),n.setAttribute("height",o),n.setAttribute("viewBox",[h.x,h.y,p,o].join(" ")),L.Browser.webkit&&m.appendChild(n)}}),L.Path.include({bindPopup:function(d,c){if(!this._popup||this._popup.options!==c){this._popup=new L.Popup(c,this)}return this._popup.setContent(d),this._openPopupAdded||(this.on("click",this._openPopup,this),this._openPopupAdded=!0),this},_openPopup:function(b){this._popup.setLatLng(b.latlng),this._map.openPopup(this._popup)}}),L.Browser.vml=function(){var d=document.createElement("div"),c;return d.innerHTML='<v:shape adj="1"/>',c=d.firstChild,c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}(),L.Path=L.Browser.svg||!L.Browser.vml?L.Path:L.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02,_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch(b){return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()},_initPath:function(){this._container=L.Path._createElement("shape"),this._container.className+=" leaflet-vml-shape"+(this.options.clickable?" leaflet-clickable":""),this._container.coordsize="1 1",this._path=L.Path._createElement("path"),this._container.appendChild(this._path),this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke?(this._stroke=L.Path._createElement("stroke"),this._stroke.endcap="round",this._container.appendChild(this._stroke)):this._container.stroked=!1,this.options.fill?(this._container.filled=!0,this._fill=L.Path._createElement("fill"),this._container.appendChild(this._fill)):this._container.filled=!1,this._updateStyle()},_updateStyle:function(){this.options.stroke&&(this._stroke.weight=this.options.weight+"px",this._stroke.color=this.options.color,this._stroke.opacity=this.options.opacity),this.options.fill&&(this._fill.color=this.options.fillColor||this.options.color,this._fill.opacity=this.options.fillOpacity)},_updatePath:function(){this._container.style.display="none",this._path.v=this.getPathString()+" ",this._container.style.display=""}}),L.Map.include(L.Browser.svg||!L.Browser.vml?{}:{_initPathRoot:function(){this._pathRoot||(this._pathRoot=document.createElement("div"),this._pathRoot.className="leaflet-vml-container",this._panes.overlayPane.appendChild(this._pathRoot),this.on("moveend",this._updatePathViewport),this._updatePathViewport())}}),L.Browser.canvas=function(){return !!document.createElement("canvas").getContext}(),L.Path=L.Path.SVG&&!window.L_PREFER_CANVAS||!L.Browser.canvas?L.Path:L.Path.extend({statics:{CANVAS:!0,SVG:!1},options:{updateOnMoveEnd:!0},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){this.options.stroke&&(this._ctx.lineWidth=this.options.weight,this._ctx.strokeStyle=this.options.color),this.options.fill&&(this._ctx.fillStyle=this.options.fillColor||this.options.color)},_drawPath:function(){var h,g,o,n,m,k;this._ctx.beginPath();for(h=0,o=this._parts.length;h<o;h++){for(g=0,n=this._parts[h].length;g<n;g++){m=this._parts[h][g],k=(g===0?"move":"line")+"To",this._ctx[k](m.x,m.y)}this instanceof L.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(this._checkIfEmpty()){return}this._drawPath(),this._ctx.save(),this._updateStyle();var d=this.options.opacity,c=this.options.fillOpacity;this.options.fill&&(c<1&&(this._ctx.globalAlpha=c),this._ctx.fill()),this.options.stroke&&(d<1&&(this._ctx.globalAlpha=d),this._ctx.stroke()),this._ctx.restore()},_initEvents:function(){this.options.clickable&&this._map.on("click",this._onClick,this)},_onClick:function(b){this._containsPoint(b.layerPoint)&&this.fire("click",b)},onRemove:function(b){b.off("viewreset",this._projectLatlngs,this),b.off(this._updateTrigger,this._updatePath,this),b.fire(this._updateTrigger)}}),L.Map.include(L.Path.SVG&&!window.L_PREFER_CANVAS||!L.Browser.canvas?{}:{_initPathRoot:function(){var d=this._pathRoot,c;d||(d=this._pathRoot=document.createElement("canvas"),d.style.position="absolute",c=this._canvasCtx=d.getContext("2d"),c.lineCap="round",c.lineJoin="round",this._panes.overlayPane.appendChild(d),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){this._updatePathViewport();var f=this._pathViewport,e=f.min,h=f.max.subtract(e),g=this._pathRoot;L.DomUtil.setPosition(g,e),g.width=h.x,g.height=h.y,g.getContext("2d").translate(-e.x,-e.y)}}),L.LineUtil={simplify:function(e,d){if(!d||!e.length){return e.slice()}var f=d*d;return e=this._reducePoints(e,f),e=this._simplifyDP(e,f),e},pointToSegmentDistance:function(e,d,f){return Math.sqrt(this._sqClosestPointOnSegment(e,d,f,!0))},closestPointOnSegment:function(e,d,f){return this._sqClosestPointOnSegment(e,d,f)},_simplifyDP:function(k,h){var q=k.length,p=typeof Uint8Array!="undefined"?Uint8Array:Array,o=new p(q);o[0]=o[q-1]=1,this._simplifyDPStep(k,o,h,0,q-1);var n,m=[];for(n=0;n<q;n++){o[n]&&m.push(k[n])}return m},_simplifyDPStep:function(t,s,r,q,p){var o=0,n,m,k;for(m=q+1;m<=p-1;m++){k=this._sqClosestPointOnSegment(t[m],t[q],t[p],!0),k>o&&(n=m,o=k)}o>r&&(s[n]=1,this._simplifyDPStep(t,s,r,q,n),this._simplifyDPStep(t,s,r,n,p))},_reducePoints:function(h,g){var o=[h[0]];for(var n=1,m=0,k=h.length;n<k;n++){this._sqDist(h[n],h[m])>g&&(o.push(h[n]),m=n)}return m<k-1&&o.push(h[k-1]),o},clipSegment:function(x,v,u,t){var s=u.min,r=u.max,q=t?this._lastCode:this._getBitCode(x,u),p=this._getBitCode(v,u);this._lastCode=p;for(;;){if(!(q|p)){return[x,v]}if(q&p){return !1}var o=q||p,n=this._getEdgeIntersection(x,v,o,u),m=this._getBitCode(n,u);o===q?(x=n,q=m):(v=n,p=m)}},_getEdgeIntersection:function(m,k,s,r){var q=k.x-m.x,p=k.y-m.y,o=r.min,n=r.max;if(s&8){return new L.Point(m.x+q*(n.y-m.y)/p,n.y)}if(s&4){return new L.Point(m.x+q*(o.y-m.y)/p,o.y)}if(s&2){return new L.Point(n.x,m.y+p*(n.x-m.x)/q)}if(s&1){return new L.Point(o.x,m.y+p*(o.x-m.x)/q)}},_getBitCode:function(e,d){var f=0;return e.x<d.min.x?f|=1:e.x>d.max.x&&(f|=2),e.y<d.min.y?f|=4:e.y>d.max.y&&(f|=8),f},_sqDist:function(f,e){var h=e.x-f.x,g=e.y-f.y;return h*h+g*g},_sqClosestPointOnSegment:function(u,t,s,r){var q=t.x,p=t.y,o=s.x-q,n=s.y-p,m=o*o+n*n,k;return m>0&&(k=((u.x-q)*o+(u.y-p)*n)/m,k>1?(q=s.x,p=s.y):k>0&&(q+=o*k,p+=n*k)),o=u.x-q,n=u.y-p,r?o*o+n*n:new L.Point(q,p)}},L.Polyline=L.Path.extend({initialize:function(d,c){L.Path.prototype.initialize.call(this,c),this._latlngs=d},options:{smoothFactor:1,noClip:!1,updateOnMoveEnd:!0},projectLatlngs:function(){this._originalPoints=[];for(var d=0,c=this._latlngs.length;d<c;d++){this._originalPoints[d]=this._map.latLngToLayerPoint(this._latlngs[d])}},getPathString:function(){for(var e=0,d=this._parts.length,f="";e<d;e++){f+=this._getPathPartStr(this._parts[e])}return f},getLatLngs:function(){return this._latlngs},setLatLngs:function(b){return this._latlngs=b,this._redraw(),this},addLatLng:function(b){return this._latlngs.push(b),this._redraw(),this},spliceLatLngs:function(e,d){var f=[].splice.apply(this._latlngs,arguments);return this._redraw(),f},closestLayerPoint:function(y){var x=Infinity,v=this._parts,u,t,s=null;for(var r=0,q=v.length;r<q;r++){var p=v[r];for(var o=1,n=p.length;o<n;o++){u=p[o-1],t=p[o];var m=L.LineUtil._sqClosestPointOnSegment(y,u,t);m._sqDist<x&&(x=m._sqDist,s=m)}}return s&&(s.distance=Math.sqrt(x)),s},getBounds:function(){var f=new L.LatLngBounds,e=this.getLatLngs();for(var h=0,g=e.length;h<g;h++){f.extend(e[h])}return f},_getPathPartStr:function(h){var g=L.Path.VML;for(var o=0,n=h.length,m="",k;o<n;o++){k=h[o],g&&k._round(),m+=(o?"L":"M")+k.x+" "+k.y}return m},_clipPoints:function(){var m=this._originalPoints,k=m.length,s,r,q;if(this.options.noClip){this._parts=[m];return}this._parts=[];var p=this._parts,o=this._map._pathViewport,n=L.LineUtil;for(s=0,r=0;s<k-1;s++){q=n.clipSegment(m[s],m[s+1],o,s);if(!q){continue}p[r]=p[r]||[],p[r].push(q[0]);if(q[1]!==m[s+1]||s===k-2){p[r].push(q[1]),r++}}},_simplifyPoints:function(){var f=this._parts,e=L.LineUtil;for(var h=0,g=f.length;h<g;h++){f[h]=e.simplify(f[h],this.options.smoothFactor)}},_updatePath:function(){this._clipPoints(),this._simplifyPoints(),L.Path.prototype._updatePath.call(this)}}),L.PolyUtil={},L.PolyUtil.clipPolygon=function(E,D){var C=D.min,B=D.max,A,z=[1,4,2,8],y,x,v,u,t,s,r,q,p=L.LineUtil;for(y=0,s=E.length;y<s;y++){E[y]._code=p._getBitCode(E[y],D)}for(v=0;v<4;v++){r=z[v],A=[];for(y=0,s=E.length,x=s-1;y<s;x=y++){u=E[y],t=E[x],u._code&r?t._code&r||(q=p._getEdgeIntersection(t,u,r,D),q._code=p._getBitCode(q,D),A.push(q)):(t._code&r&&(q=p._getEdgeIntersection(t,u,r,D),q._code=p._getBitCode(q,D),A.push(q)),A.push(u))}E=A}return E},L.Polygon=L.Polyline.extend({options:{fill:!0},initialize:function(d,c){L.Polyline.prototype.initialize.call(this,d,c),d&&d[0] instanceof Array&&(this._latlngs=d[0],this._holes=d.slice(1))},projectLatlngs:function(){L.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[];if(!this._holes){return}for(var g=0,f=this._holes.length,m;g<f;g++){this._holePoints[g]=[];for(var k=0,h=this._holes[g].length;k<h;k++){this._holePoints[g][k]=this._map.latLngToLayerPoint(this._holes[g][k])}}},_clipPoints:function(){var g=this._originalPoints,f=[];this._parts=[g].concat(this._holePoints);if(this.options.noClip){return}for(var m=0,k=this._parts.length;m<k;m++){var h=L.PolyUtil.clipPolygon(this._parts[m],this._map._pathViewport);if(!h.length){continue}f.push(h)}this._parts=f},_getPathPartStr:function(d){var c=L.Polyline.prototype._getPathPartStr.call(this,d);return c+(L.Browser.svg?"z":"x")}}),function(){function b(c){return L.FeatureGroup.extend({initialize:function(e,d){this._layers={},this._options=d,this.setLatLngs(e)},setLatLngs:function(a){var f=0,e=a.length;this._iterateLayers(function(d){f<e?d.setLatLngs(a[f++]):this.removeLayer(d)},this);while(f<e){this.addLayer(new c(a[f++],this._options))}}})}L.MultiPolyline=b(L.Polyline),L.MultiPolygon=b(L.Polygon)}(),L.Circle=L.Path.extend({initialize:function(e,d,f){L.Path.prototype.initialize.call(this,f),this._latlng=e,this._mRadius=d},options:{fill:!0},setLatLng:function(b){return this._latlng=b,this._redraw(),this},setRadius:function(b){return this._mRadius=b,this._redraw(),this},projectLatlngs:function(){var g=40075017,f=g*Math.cos(L.LatLng.DEG_TO_RAD*this._latlng.lat),m=this._mRadius/f*360,k=new L.LatLng(this._latlng.lat,this._latlng.lng-m,!0),h=this._map.latLngToLayerPoint(k);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.round(this._point.x-h.x)},getPathString:function(){var d=this._point,c=this._radius;return this._checkIfEmpty()?"":L.Browser.svg?"M"+d.x+","+(d.y-c)+"A"+c+","+c+",0,1,1,"+(d.x-0.1)+","+(d.y-c)+" z":(d._round(),c=Math.round(c),"AL "+d.x+","+d.y+" "+c+","+c+" 0,"+23592600)},_checkIfEmpty:function(){var e=this._map._pathViewport,d=this._radius,f=this._point;return f.x-d>e.max.x||f.y-d>e.max.y||f.x+d<e.min.x||f.y+d<e.min.y}}),L.CircleMarker=L.Circle.extend({options:{radius:10,weight:2},initialize:function(d,c){L.Circle.prototype.initialize.call(this,d,null,c),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(b){return this._radius=b,this._redraw(),this}}),L.Polyline.include(L.Path.CANVAS?{_containsPoint:function(u,t){var s,r,q,p,o,n,m,k=this.options.weight/2;L.Browser.touch&&(k+=10);for(s=0,p=this._parts.length;s<p;s++){m=this._parts[s];for(r=0,o=m.length,q=o-1;r<o;q=r++){if(!t&&r===0){continue}n=L.LineUtil.pointToSegmentDistance(u,m[q],m[r]);if(n<=k){return !0}}}return !1}}:{}),L.Polygon.include(L.Path.CANVAS?{_containsPoint:function(u){var t=!1,s,r,q,p,o,n,m,k;if(L.Polyline.prototype._containsPoint.call(this,u,!0)){return !0}for(p=0,m=this._parts.length;p<m;p++){s=this._parts[p];for(o=0,k=s.length,n=k-1;o<k;n=o++){r=s[o],q=s[n],r.y>u.y!=q.y>u.y&&u.x<(q.x-r.x)*(u.y-r.y)/(q.y-r.y)+r.x&&(t=!t)}}return t}}:{}),L.Circle.include(L.Path.CANVAS?{_drawPath:function(){var b=this._point;this._ctx.beginPath(),this._ctx.arc(b.x,b.y,this._radius,0,Math.PI*2)},_containsPoint:function(e){var d=this._point,f=this.options.stroke?this.options.weight/2:0;return e.distanceTo(d)<=this._radius+f}}:{}),L.GeoJSON=L.FeatureGroup.extend({initialize:function(d,c){L.Util.setOptions(this,c),this._geojson=d,this._layers={},d&&this.addGeoJSON(d)},addGeoJSON:function(h){if(h.features){for(var g=0,o=h.features.length;g<o;g++){this.addGeoJSON(h.features[g])}return}var n=h.type==="Feature",m=n?h.geometry:h,k=L.GeoJSON.geometryToLayer(m,this.options.pointToLayer);this.fire("featureparse",{layer:k,properties:h.properties,geometryType:m.type,bbox:h.bbox,id:h.id}),this.addLayer(k)}}),L.Util.extend(L.GeoJSON,{geometryToLayer:function(t,s){var r=t.coordinates,q,p,o,n,m,k=[];switch(t.type){case"Point":return q=this.coordsToLatLng(r),s?s(q):new L.Marker(q);case"MultiPoint":for(o=0,n=r.length;o<n;o++){q=this.coordsToLatLng(r[o]),m=s?s(q):new L.Marker(q),k.push(m)}return new L.FeatureGroup(k);case"LineString":return p=this.coordsToLatLngs(r),new L.Polyline(p);case"Polygon":return p=this.coordsToLatLngs(r,1),new L.Polygon(p);case"MultiLineString":return p=this.coordsToLatLngs(r,1),new L.MultiPolyline(p);case"MultiPolygon":return p=this.coordsToLatLngs(r,2),new L.MultiPolygon(p);case"GeometryCollection":for(o=0,n=t.geometries.length;o<n;o++){m=this.geometryToLayer(t.geometries[o],s),k.push(m)}return new L.FeatureGroup(k);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(f,e){var h=parseFloat(f[e?0:1]),g=parseFloat(f[e?1:0]);return new L.LatLng(h,g,!0)},coordsToLatLngs:function(k,h,q){var p,o=[],n,m=k.length;for(n=0;n<m;n++){p=h?this.coordsToLatLngs(k[n],h-1,q):this.coordsToLatLng(k[n],q),o.push(p)}return o}}),L.DomEvent={addListener:function(t,s,r,q){var p=L.Util.stamp(r),o="_leaflet_"+s+p;if(t[o]){return}var n=function(a){return r.call(q||t,a||L.DomEvent._getEvent())};if(L.Browser.touch&&s==="dblclick"&&this.addDoubleTapListener){this.addDoubleTapListener(t,n,p)}else{if("addEventListener" in t){if(s==="mousewheel"){t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener(s,n,!1)}else{if(s==="mouseenter"||s==="mouseleave"){var m=n,k=s==="mouseenter"?"mouseover":"mouseout";n=function(a){if(!L.DomEvent._checkMouse(t,a)){return}return m(a)},t.addEventListener(k,n,!1)}else{t.addEventListener(s,n,!1)}}}else{"attachEvent" in t&&t.attachEvent("on"+s,n)}}t[o]=n},removeListener:function(h,g,o){var n=L.Util.stamp(o),m="_leaflet_"+g+n,k=h[m];if(!k){return}L.Browser.touch&&g==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(h,n):"removeEventListener" in h?g==="mousewheel"?(h.removeEventListener("DOMMouseScroll",k,!1),h.removeEventListener(g,k,!1)):g==="mouseenter"||g==="mouseleave"?h.removeEventListener(g==="mouseenter"?"mouseover":"mouseout",k,!1):h.removeEventListener(g,k,!1):"detachEvent" in h&&h.detachEvent("on"+g,k),h[m]=null},_checkMouse:function(f,e){var h=e.relatedTarget;if(!h){return !0}try{while(h&&h!==f){h=h.parentNode}}catch(g){return !1}return h!==f},_getEvent:function(){var d=window.event;if(!d){var c=arguments.callee.caller;while(c){d=c.arguments[0];if(d&&window.Event===d.constructor){break}c=c.caller}}return d},stopPropagation:function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},disableClickPropagation:function(b){L.DomEvent.addListener(b,L.Draggable.START,L.DomEvent.stopPropagation),L.DomEvent.addListener(b,"click",L.DomEvent.stopPropagation),L.DomEvent.addListener(b,"dblclick",L.DomEvent.stopPropagation)},preventDefault:function(b){b.preventDefault?b.preventDefault():b.returnValue=!1},stop:function(b){L.DomEvent.preventDefault(b),L.DomEvent.stopPropagation(b)},getMousePosition:function(g,f){var m=g.pageX?g.pageX:g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.pageY?g.pageY:g.clientY+document.body.scrollTop+document.documentElement.scrollTop,h=new L.Point(m,k);return f?h.subtract(L.DomUtil.getViewportOffset(f)):h},getWheelDelta:function(d){var c=0;return d.wheelDelta&&(c=d.wheelDelta/120),d.detail&&(c=-d.detail/3),c}},L.Draggable=L.Class.extend({includes:L.Mixin.Events,statics:{START:L.Browser.touch?"touchstart":"mousedown",END:L.Browser.touch?"touchend":"mouseup",MOVE:L.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(d,c){this._element=d,this._dragStartTarget=c||d},enable:function(){if(this._enabled){return}L.DomEvent.addListener(this._dragStartTarget,L.Draggable.START,this._onDown,this),this._enabled=!0},disable:function(){if(!this._enabled){return}L.DomEvent.removeListener(this._dragStartTarget,L.Draggable.START,this._onDown),this._enabled=!1},_onDown:function(e){if(!L.Browser.touch&&e.shiftKey||e.which!==1&&e.button!==1&&!e.touches){return}if(e.touches&&e.touches.length>1){return}var d=e.touches&&e.touches.length===1?e.touches[0]:e,f=d.target;L.DomEvent.preventDefault(e),L.Browser.touch&&f.tagName.toLowerCase()==="a"&&(f.className+=" leaflet-active"),this._moved=!1;if(this._moving){return}L.Browser.touch||(L.DomUtil.disableTextSelection(),this._setMovingCursor()),this._startPos=this._newPos=L.DomUtil.getPosition(this._element),this._startPoint=new L.Point(d.clientX,d.clientY),L.DomEvent.addListener(document,L.Draggable.MOVE,this._onMove,this),L.DomEvent.addListener(document,L.Draggable.END,this._onUp,this)},_onMove:function(e){if(e.touches&&e.touches.length>1){return}L.DomEvent.preventDefault(e);var d=e.touches&&e.touches.length===1?e.touches[0]:e;this._moved||(this.fire("dragstart"),this._moved=!0),this._moving=!0;var f=new L.Point(d.clientX,d.clientY);this._newPos=this._startPos.add(f).subtract(this._startPoint),L.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag"),L.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(f){if(f.changedTouches){var e=f.changedTouches[0],h=e.target,g=this._newPos&&this._newPos.distanceTo(this._startPos)||0;h.tagName.toLowerCase()==="a"&&(h.className=h.className.replace(" leaflet-active","")),g<L.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",e)}L.Browser.touch||(L.DomUtil.enableTextSelection(),this._restoreCursor()),L.DomEvent.removeListener(document,L.Draggable.MOVE,this._onMove),L.DomEvent.removeListener(document,L.Draggable.END,this._onUp),this._moved&&this.fire("dragend"),this._moving=!1},_setMovingCursor:function(){this._bodyCursor=document.body.style.cursor,document.body.style.cursor="move"},_restoreCursor:function(){document.body.style.cursor=this._bodyCursor},_simulateEvent:function(e,d){var f=document.createEvent("MouseEvents");f.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(f)}}),L.Handler=L.Class.extend({initialize:function(b){this._map=b},enable:function(){if(this._enabled){return}this._enabled=!0,this.addHooks()},disable:function(){if(!this._enabled){return}this._enabled=!1,this.removeHooks()},enabled:function(){return !!this._enabled}}),L.Map.Drag=L.Handler.extend({addHooks:function(){if(!this._draggable){this._draggable=new L.Draggable(this._map._mapPane,this._map._container),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);var b=this._map.options;b.worldCopyJump&&!b.continuousWorld&&(this._draggable.on("predrag",this._onPreDrag,this),this._map.on("viewreset",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._map.fire("movestart").fire("dragstart")},_onDrag:function(){this._map.fire("move").fire("drag")},_onViewReset:function(){var d=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint(new L.LatLng(0,0));this._initialWorldOffset=c.subtract(d)},_onPreDrag:function(){var m=this._map,k=m.options.scale(m.getZoom()),s=Math.round(k/2),r=this._initialWorldOffset.x,q=this._draggable._newPos.x,p=(q-s+r)%k+s-r,o=(q+s+r)%k-s-r,n=Math.abs(p+r)<Math.abs(o+r)?p:o;this._draggable._newPos.x=n},_onDragEnd:function(){var b=this._map;b.fire("moveend").fire("dragend"),b.options.maxBounds&&L.Util.requestAnimFrame(this._panInsideMaxBounds,b,!0,b._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),L.Map.DoubleClickZoom=L.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(b){this.setView(b.latlng,this._zoom+1)}}),L.Map.ScrollWheelZoom=L.Handler.extend({addHooks:function(){L.DomEvent.addListener(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){L.DomEvent.removeListener(this._map._container,"mousewheel",this._onWheelScroll)},_onWheelScroll:function(d){var c=L.DomEvent.getWheelDelta(d);this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(d),clearTimeout(this._timer),this._timer=setTimeout(L.Util.bind(this._performZoom,this),50),L.DomEvent.preventDefault(d)},_performZoom:function(){var g=this._map,f=Math.round(this._delta),m=g.getZoom();f=Math.max(Math.min(f,4),-4),f=g._limitZoom(m+f)-m,this._delta=0;if(!f){return}var k=this._getCenterForScrollWheelZoom(this._lastMousePos,f),h=m+f;g.setView(k,h)},_getCenterForScrollWheelZoom:function(k,h){var q=this._map,p=q.getPixelBounds().getCenter(),o=q.getSize().divideBy(2),n=k.subtract(o).multiplyBy(1-Math.pow(2,-h)),m=p.add(n);return q.unproject(m,q._zoom,!0)}}),L.Util.extend(L.DomEvent,{addDoubleTapListener:function(y,x,v){function n(e){if(e.touches.length!==1){return}var d=Date.now(),f=d-(u||d);r=e.touches[0],t=f>0&&f<=s,u=d}function m(b){t&&(r.type="dblclick",x(r),u=null)}var u,t=!1,s=250,r,q="_leaflet_",p="touchstart",o="touchend";y[q+p+v]=n,y[q+o+v]=m,y.addEventListener(p,n,!1),y.addEventListener(o,m,!1)},removeDoubleTapListener:function(e,d){var f="_leaflet_";e.removeEventListener(e,e[f+"touchstart"+d],!1),e.removeEventListener(e,e[f+"touchend"+d],!1)}}),L.Map.TouchZoom=L.Handler.extend({addHooks:function(){L.DomEvent.addListener(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){L.DomEvent.removeListener(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){if(!f.touches||f.touches.length!==2||this._map._animatingZoom){return}var e=this._map.mouseEventToLayerPoint(f.touches[0]),h=this._map.mouseEventToLayerPoint(f.touches[1]),g=this._map.containerPointToLayerPoint(this._map.getSize().divideBy(2));this._startCenter=e.add(h).divideBy(2,!0),this._startDist=e.distanceTo(h),this._moved=!1,this._zooming=!0,this._centerOffset=g.subtract(this._startCenter),L.DomEvent.addListener(document,"touchmove",this._onTouchMove,this),L.DomEvent.addListener(document,"touchend",this._onTouchEnd,this),L.DomEvent.preventDefault(f)},_onTouchMove:function(e){if(!e.touches||e.touches.length!==2){return}this._moved||(this._map._mapPane.className+=" leaflet-zoom-anim",this._map.fire("zoomstart").fire("movestart")._prepareTileBg(),this._moved=!0);var d=this._map.mouseEventToLayerPoint(e.touches[0]),f=this._map.mouseEventToLayerPoint(e.touches[1]);this._scale=d.distanceTo(f)/this._startDist,this._delta=d.add(f).divideBy(2,!0).subtract(this._startCenter),this._map._tileBg.style.webkitTransform=[L.DomUtil.getTranslateString(this._delta),L.DomUtil.getScaleString(this._scale,this._startCenter)].join(" "),L.DomEvent.preventDefault(e)},_onTouchEnd:function(u){if(!this._moved||!this._zooming){return}this._zooming=!1;var t=this._map.getZoom(),s=Math.log(this._scale)/Math.LN2,r=s>0?Math.ceil(s):Math.floor(s),q=this._map._limitZoom(t+r),p=q-t,o=this._centerOffset.subtract(this._delta).divideBy(this._scale),n=this._map.getPixelOrigin().add(this._startCenter).add(o),m=this._map.unproject(n);L.DomEvent.removeListener(document,"touchmove",this._onTouchMove),L.DomEvent.removeListener(document,"touchend",this._onTouchEnd);var k=Math.pow(2,p);this._map._runAnimation(m,q,k/this._scale,this._startCenter.add(o))}}),L.Map.BoxZoom=L.Handler.extend({initialize:function(b){this._map=b,this._container=b._container,this._pane=b._panes.overlayPane},addHooks:function(){L.DomEvent.addListener(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){L.DomEvent.removeListener(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(b){if(!b.shiftKey||b.which!==1&&b.button!==1){return !1}L.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(b),this._box=L.DomUtil.create("div","leaflet-zoom-box",this._pane),L.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",L.DomEvent.addListener(document,"mousemove",this._onMouseMove,this),L.DomEvent.addListener(document,"mouseup",this._onMouseUp,this),L.DomEvent.preventDefault(b)},_onMouseMove:function(k){var h=this._map.mouseEventToLayerPoint(k),q=h.x-this._startLayerPoint.x,p=h.y-this._startLayerPoint.y,o=Math.min(h.x,this._startLayerPoint.x),n=Math.min(h.y,this._startLayerPoint.y),m=new L.Point(o,n);L.DomUtil.setPosition(this._box,m),this._box.style.width=Math.abs(q)-4+"px",this._box.style.height=Math.abs(p)-4+"px"},_onMouseUp:function(e){this._pane.removeChild(this._box),this._container.style.cursor="",L.DomUtil.enableTextSelection(),L.DomEvent.removeListener(document,"mousemove",this._onMouseMove),L.DomEvent.removeListener(document,"mouseup",this._onMouseUp);var d=this._map.mouseEventToLayerPoint(e),f=new L.LatLngBounds(this._map.layerPointToLatLng(this._startLayerPoint),this._map.layerPointToLatLng(d));this._map.fitBounds(f)}}),L.Handler.MarkerDrag=L.Handler.extend({initialize:function(b){this._marker=b},addHooks:function(){var b=this._marker._icon;this._draggable||(this._draggable=new L.Draggable(b,b),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(b){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(d){var c=L.DomUtil.getPosition(this._marker._icon);this._marker._shadow&&L.DomUtil.setPosition(this._marker._shadow,c),this._marker._latlng=this._marker._map.layerPointToLatLng(c),this._marker.fire("move").fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),L.Control={},L.Control.Position={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"},L.Map.include({addControl:function(f){f.onAdd(this);var e=f.getPosition(),h=this._controlCorners[e],g=f.getContainer();return L.DomUtil.addClass(g,"leaflet-control"),e.indexOf("bottom")!==-1?h.insertBefore(g,h.firstChild):h.appendChild(g),this},removeControl:function(f){var e=f.getPosition(),h=this._controlCorners[e],g=f.getContainer();return h.removeChild(g),f.onRemove&&f.onRemove(this),this},_initControlPos:function(){var k=this._controlCorners={},h="leaflet-",q=h+"top",p=h+"bottom",o=h+"left",n=h+"right",m=L.DomUtil.create("div",h+"control-container",this._container);L.Browser.touch&&(m.className+=" "+h+"big-buttons"),k.topLeft=L.DomUtil.create("div",q+" "+o,m),k.topRight=L.DomUtil.create("div",q+" "+n,m),k.bottomLeft=L.DomUtil.create("div",p+" "+o,m),k.bottomRight=L.DomUtil.create("div",p+" "+n,m)}}),L.Control.Zoom=L.Class.extend({onAdd:function(b){this._map=b,this._container=L.DomUtil.create("div","leaflet-control-zoom"),this._zoomInButton=this._createButton("Zoom in","leaflet-control-zoom-in",this._map.zoomIn,this._map),this._zoomOutButton=this._createButton("Zoom out","leaflet-control-zoom-out",this._map.zoomOut,this._map),this._container.appendChild(this._zoomInButton),this._container.appendChild(this._zoomOutButton)},getContainer:function(){return this._container},getPosition:function(){return L.Control.Position.TOP_LEFT},_createButton:function(g,f,m,k){var h=document.createElement("a");return h.href="#",h.title=g,h.className=f,L.Browser.touch||L.DomEvent.disableClickPropagation(h),L.DomEvent.addListener(h,"click",L.DomEvent.preventDefault),L.DomEvent.addListener(h,"click",m,k),h}}),L.Control.Attribution=L.Class.extend({initialize:function(b){this._prefix=b||'Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>',this._attributions={}},onAdd:function(b){this._container=L.DomUtil.create("div","leaflet-control-attribution"),L.DomEvent.disableClickPropagation(this._container),this._map=b,this._update()},getPosition:function(){return L.Control.Position.BOTTOM_RIGHT},getContainer:function(){return this._container},setPrefix:function(b){this._prefix=b,this._update()},addAttribution:function(b){if(!b){return}this._attributions[b]||(this._attributions[b]=0),this._attributions[b]++,this._update()},removeAttribution:function(b){if(!b){return}this._attributions[b]--,this._update()},_update:function(){if(!this._map){return}var e=[];for(var d in this._attributions){this._attributions.hasOwnProperty(d)&&e.push(d)}var f=[];this._prefix&&f.push(this._prefix),e.length&&f.push(e.join(", ")),this._container.innerHTML=f.join(" &mdash; ")}}),L.Control.Layers=L.Class.extend({options:{collapsed:!0},initialize:function(f,e,h){L.Util.setOptions(this,h),this._layers={};for(var g in f){f.hasOwnProperty(g)&&this._addLayer(f[g],g)}for(g in e){e.hasOwnProperty(g)&&this._addLayer(e[g],g,!0)}},onAdd:function(b){this._map=b,this._initLayout(),this._update()},getContainer:function(){return this._container},getPosition:function(){return L.Control.Position.TOP_RIGHT},addBaseLayer:function(d,c){return this._addLayer(d,c),this._update(),this},addOverlay:function(d,c){return this._addLayer(d,c,!0),this._update(),this},removeLayer:function(d){var c=L.Util.stamp(d);return delete this._layers[c],this._update(),this},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-control-layers"),L.Browser.touch||L.DomEvent.disableClickPropagation(this._container),this._form=L.DomUtil.create("form","leaflet-control-layers-list");if(this.options.collapsed){L.DomEvent.addListener(this._container,"mouseover",this._expand,this),L.DomEvent.addListener(this._container,"mouseout",this._collapse,this);var b=this._layersLink=L.DomUtil.create("a","leaflet-control-layers-toggle");b.href="#",b.title="Layers",L.Browser.touch?L.DomEvent.addListener(b,"click",this._expand,this):L.DomEvent.addListener(b,"focus",this._expand,this),this._map.on("movestart",this._collapse,this),this._container.appendChild(b)}else{this._expand()}this._baseLayersList=L.DomUtil.create("div","leaflet-control-layers-base",this._form),this._separator=L.DomUtil.create("div","leaflet-control-layers-separator",this._form),this._overlaysList=L.DomUtil.create("div","leaflet-control-layers-overlays",this._form),this._container.appendChild(this._form)},_addLayer:function(f,e,h){var g=L.Util.stamp(f);this._layers[g]={layer:f,name:e,overlay:h}},_update:function(){if(!this._container){return}this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var f=!1,e=!1;for(var h in this._layers){if(this._layers.hasOwnProperty(h)){var g=this._layers[h];this._addItem(g),e=e||g.overlay,f=f||!g.overlay}}this._separator.style.display=e&&f?"":"none"},_addItem:function(h,g){var o=document.createElement("label"),n=document.createElement("input");h.overlay||(n.name="leaflet-base-layers"),n.type=h.overlay?"checkbox":"radio",n.checked=this._map.hasLayer(h.layer),n.layerId=L.Util.stamp(h.layer),L.DomEvent.addListener(n,"click",this._onInputClick,this);var m=document.createTextNode(" "+h.name);o.appendChild(n),o.appendChild(m);var k=h.overlay?this._overlaysList:this._baseLayersList;k.appendChild(o)},_onInputClick:function(){var g,f,m,k=this._form.getElementsByTagName("input"),h=k.length;for(g=0;g<h;g++){f=k[g],m=this._layers[f.layerId],f.checked?this._map.addLayer(m.layer,!m.overlay):this._map.removeLayer(m.layer)}},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),L.Transition=L.Class.extend({includes:L.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:L.DomUtil.setPosition},implemented:function(){return L.Transition.NATIVE||L.Transition.TIMER}},options:{easing:"ease",duration:0.5},_setProperty:function(e,d){var f=L.Transition.CUSTOM_PROPS_SETTERS;e in f?f[e](this._el,d):this._el.style[e]=d}}),L.Transition=L.Transition.extend({statics:function(){var d=L.DomUtil.TRANSITION,c=d==="webkitTransition"||d==="OTransition"?d+"End":"transitionend";return{NATIVE:!!d,TRANSITION:d,PROPERTY:d+"Property",DURATION:d+"Duration",EASING:d+"TimingFunction",END:c,CUSTOM_PROPS_PROPERTIES:{position:L.Browser.webkit?L.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(d,c){this._el=d,L.Util.setOptions(this,c),L.DomEvent.addListener(d,L.Transition.END,this._onTransitionEnd,this),this._onFakeStep=L.Util.bind(this._onFakeStep,this)},run:function(f){var e,h=[],g=L.Transition.CUSTOM_PROPS_PROPERTIES;for(e in f){f.hasOwnProperty(e)&&(e=g[e]?g[e]:e,e=this._dasherize(e),h.push(e))}this._el.style[L.Transition.DURATION]=this.options.duration+"s",this._el.style[L.Transition.EASING]=this.options.easing,this._el.style[L.Transition.PROPERTY]=h.join(", ");for(e in f){f.hasOwnProperty(e)&&this._setProperty(e,f[e])}this._inProgress=!0,this.fire("start"),L.Transition.NATIVE?(clearInterval(this._timer),this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval)):this._onTransitionEnd()},_dasherize:function(){function c(b){return"-"+b.toLowerCase()}var d=/([A-Z])/g;return function(a){return a.replace(d,c)}}(),_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(){this._inProgress&&(this._inProgress=!1,clearInterval(this._timer),this._el.style[L.Transition.PROPERTY]="none",this.fire("step"),this.fire("end"))}}),L.Transition=L.Transition.NATIVE?L.Transition:L.Transition.extend({statics:{getTime:Date.now||function(){return +(new Date)},TIMER:!0,EASINGS:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],"ease-in":[0.42,0,1,1],"ease-out":[0,0,0.58,1],"ease-in-out":[0.42,0,0.58,1]},CUSTOM_PROPS_GETTERS:{position:L.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(e,d){this._el=e,L.Util.extend(this.options,d);var f=L.Transition.EASINGS[this.options.easing]||L.Transition.EASINGS.ease;this._p1=new L.Point(0,0),this._p2=new L.Point(f[0],f[1]),this._p3=new L.Point(f[2],f[3]),this._p4=new L.Point(1,1),this._step=L.Util.bind(this._step,this),this._interval=Math.round(1000/this.options.fps)},run:function(h){this._props={};var g=L.Transition.CUSTOM_PROPS_GETTERS,o=L.Transition.UNIT_RE;this.fire("start");for(var n in h){if(h.hasOwnProperty(n)){var m={};if(n in g){m.from=g[n](this._el)}else{var k=this._el.style[n].match(o);m.from=parseFloat(k[0]),m.unit=k[1]}m.to=h[n],this._props[n]=m}}clearInterval(this._timer),this._timer=setInterval(this._step,this._interval),this._startTime=L.Transition.getTime()},_step:function(){var e=L.Transition.getTime(),d=e-this._startTime,f=this.options.duration*1000;d<f?this._runFrame(this._cubicBezier(d/f)):(this._runFrame(1),this._complete())},_runFrame:function(g){var f=L.Transition.CUSTOM_PROPS_SETTERS,m,k,h;for(m in this._props){this._props.hasOwnProperty(m)&&(k=this._props[m],m in f?(h=k.to.subtract(k.from).multiplyBy(g).add(k.from),f[m](this._el,h)):this._el.style[m]=(k.to-k.from)*g+k.from+k.unit)}this.fire("step")},_complete:function(){clearInterval(this._timer),this.fire("end")},_cubicBezier:function(t){var s=Math.pow(1-t,3),r=3*Math.pow(1-t,2)*t,q=3*(1-t)*Math.pow(t,2),p=Math.pow(t,3),o=this._p1.multiplyBy(s),n=this._p2.multiplyBy(r),m=this._p3.multiplyBy(q),k=this._p4.multiplyBy(p);return o.add(n).add(m).add(k).y}}),L.Map.include(!L.Transition||!L.Transition.implemented()?{}:{setView:function(h,g,o){g=this._limitZoom(g);var n=this._zoom!==g;if(this._loaded&&!o&&this._layers){var m=this._getNewTopLeftPoint(h).subtract(this._getTopLeftPoint());h=new L.LatLng(h.lat,h.lng);var k=n?!!this._zoomToIfCenterInView&&this._zoomToIfCenterInView(h,g,m):this._panByIfClose(m);if(k){return this}}return this._resetView(h,g),this},panBy:function(b){return !b.x&&!b.y?this:(this._panTransition||(this._panTransition=new L.Transition(this._mapPane,{duration:0.3}),this._panTransition.on("step",this._onPanTransitionStep,this),this._panTransition.on("end",this._onPanTransitionEnd,this)),this.fire("movestart"),this._panTransition.run({position:L.DomUtil.getPosition(this._mapPane).subtract(b)}),this)},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){this.fire("moveend")},_panByIfClose:function(b){return this._offsetIsWithinView(b)?(this.panBy(b),!0):!1},_offsetIsWithinView:function(f,e){var h=e||1,g=this.getSize();return Math.abs(f.x)<=g.x*h&&Math.abs(f.y)<=g.y*h}}),L.Map.include(L.DomUtil.TRANSITION?{_zoomToIfCenterInView:function(m,k,s){if(this._animatingZoom){return !0}if(!this.options.zoomAnimation){return !1}var r=k-this._zoom,q=Math.pow(2,r),p=s.divideBy(1-1/q);if(!this._offsetIsWithinView(p,1)){return !1}this._mapPane.className+=" leaflet-zoom-anim",this.fire("movestart").fire("zoomstart");var o=this.containerPointToLayerPoint(this.getSize().divideBy(2)),n=o.add(p);return this._prepareTileBg(),this._runAnimation(m,k,q,n),!0},_runAnimation:function(k,h,q,p){this._animatingZoom=!0,this._animateToCenter=k,this._animateToZoom=h;var o=L.DomUtil.TRANSFORM;clearTimeout(this._clearTileBgTimer);if(L.Browser.gecko||window.opera){this._tileBg.style[o]+=" translate(0,0)"}var n;L.Browser.android?(this._tileBg.style[o+"Origin"]=p.x+"px "+p.y+"px",n="scale("+q+")"):n=L.DomUtil.getScaleString(q,p),L.Util.falseFn(this._tileBg.offsetWidth);var m={};m[o]=this._tileBg.style[o]+" "+n,this._tileBg.transition.run(m)},_prepareTileBg:function(){this._tileBg||(this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane),this._tileBg.style.zIndex=1);var d=this._tilePane,c=this._tileBg;c.style[L.DomUtil.TRANSFORM]="",c.style.visibility="hidden",c.empty=!0,d.empty=!1,this._tilePane=this._panes.tilePane=c,this._tileBg=d,this._tileBg.transition||(this._tileBg.transition=new L.Transition(this._tileBg,{duration:0.3,easing:"cubic-bezier(0.25,0.1,0.25,0.75)"}),this._tileBg.transition.on("end",this._onZoomTransitionEnd,this)),this._stopLoadingBgTiles()},_stopLoadingBgTiles:function(){var e=[].slice.call(this._tileBg.getElementsByTagName("img"));for(var d=0,f=e.length;d<f;d++){e[d].complete||(e[d].onload=L.Util.falseFn,e[d].onerror=L.Util.falseFn,e[d].src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e[d].parentNode.removeChild(e[d]),e[d]=null)}},_onZoomTransitionEnd:function(){this._restoreTileFront(),L.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),this._mapPane.className=this._mapPane.className.replace(" leaflet-zoom-anim",""),this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="",this._tilePane.style.visibility="",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){!this._animatingZoom&&!this.touchZoom._zooming&&(this._tileBg.innerHTML="")}}:{}),L.Map.include({locate:function(e){this._locationOptions=e=L.Util.extend({watch:!1,setView:!1,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:!1},e);if(!navigator.geolocation){return this.fire("locationerror",{code:0,message:"Geolocation not supported."})}var d=L.Util.bind(this._handleGeolocationResponse,this),f=L.Util.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,f,e):navigator.geolocation.getCurrentPosition(d,f,e),this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId)},locateAndSetView:function(d,c){return c=L.Util.extend({maxZoom:d||Infinity,setView:!0},c),this.locate(c)},_handleGeolocationError:function(e){var d=e.code,f=d===1?"permission denied":d===2?"position unavailable":"timeout";this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+f+"."})},_handleGeolocationResponse:function(u){var t=180*u.coords.accuracy/40000000,s=t*2,r=u.coords.latitude,q=u.coords.longitude,p=new L.LatLng(r,q),o=new L.LatLng(r-t,q-s),n=new L.LatLng(r+t,q+s),m=new L.LatLngBounds(o,n);if(this._locationOptions.setView){var k=Math.min(this.getBoundsZoom(m),this._locationOptions.maxZoom);this.setView(p,k)}this.fire("locationfound",{latlng:p,bounds:m,accuracy:u.coords.accuracy})}});
/*!
  * Reqwest! A general purpose XHR connection manager
  * copyright Dustin Diaz 2011
  * https://github.com/ded/reqwest
  * license MIT
  */
!function(context,win){function serial(a){var b=a.name;if(a.disabled||!b){return""}b=enc(b);switch(a.tagName.toLowerCase()){case"input":switch(a.type){case"reset":case"button":case"image":case"file":return"";case"checkbox":case"radio":return a.checked?b+"="+(a.value?enc(a.value):!0)+"&":"";default:return b+"="+(a.value?enc(a.value):"")+"&"}break;case"textarea":return b+"="+enc(a.value)+"&";case"select":return b+"="+enc(a.options[a.selectedIndex].value)+"&"}return""}function enc(a){return encodeURIComponent(a)}function reqwest(a,b){return new Reqwest(a,b)}function init(o,fn){function error(a){o.error&&o.error(a),complete(a)}function success(resp){o.timeout&&clearTimeout(self.timeout)&&(self.timeout=null);var r=resp.responseText;if(r){switch(type){case"json":resp=win.JSON?win.JSON.parse(r):eval("("+r+")");break;case"js":resp=eval(r);break;case"html":resp=r}}fn(resp),o.success&&o.success(resp),complete(resp)}function complete(a){o.complete&&o.complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null;var type=o.type||setType(this.url),self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort(),error()},o.timeout)),this.request=getRequest(o,success,error)}function setType(a){return/\.json$/.test(a)?"json":/\.jsonp$/.test(a)?"jsonp":/\.js$/.test(a)?"js":/\.html?$/.test(a)?"html":/\.xml$/.test(a)?"xml":"js"}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function getRequest(a,b,c){if(a.type!="jsonp"){var d=xhr();return d.open(a.method||"GET",typeof a=="string"?a:a.url,!0),setHeaders(d,a),d.onreadystatechange=handleReadyState(d,b,c),a.before&&a.before(d),d.send(a.data||null),d}var e=doc.createElement("script"),f=0;win[getCallbackName(a)]=generalCallback,e.type="text/javascript",e.src=a.url,e.async=!0,e.onload=e.onreadystatechange=function(){if(e[readyState]&&e[readyState]!=="complete"&&e[readyState]!=="loaded"||f){return !1}e.onload=e.onreadystatechange=null,a.success&&a.success(lastValue),lastValue=undefined,head.removeChild(e),f=1},head.appendChild(e)}function generalCallback(a){lastValue=a}function getCallbackName(a){var b=a.jsonpCallback||"callback";if(a.url.slice(-(b.length+2))==b+"=?"){var c="reqwest_"+uniqid++;return a.url=a.url.substr(0,a.url.length-1)+c,c}var d=new RegExp(b+"=([\\w]+)");return a.url.match(d)[1]}function setHeaders(a,b){var c=b.headers||{};c.Accept=c.Accept||"text/javascript, text/html, application/xml, text/xml, */*",b.crossOrigin||(c["X-Requested-With"]=c["X-Requested-With"]||"XMLHttpRequest"),c[contentType]=c[contentType]||"application/x-www-form-urlencoded";for(var d in c){c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d],!1)}}function handleReadyState(a,b,c){return function(){a&&a[readyState]==4&&(twoHundo.test(a.status)?b(a):c(a))}}var twoHundo=/^20\d$/,doc=document,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",head=doc[byTag]("head")[0],uniqid=0,lastValue,xhr="XMLHttpRequest" in win?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};Reqwest.prototype={abort:function(){this.request.abort()},retry:function(){init.call(this,this.o,this.fn)}},reqwest.serialize=function(a){var b=[a[byTag]("input"),a[byTag]("select"),a[byTag]("textarea")],c=[],d,e;for(d=0,l=b.length;d<l;++d){for(e=0,l2=b[d].length;e<l2;++e){c.push(serial(b[d][e]))}}return c.join("").replace(/&$/,"")},reqwest.serializeArray=function(a){for(var b=this.serialize(a).split("&"),c=0,d=b.length,e=[],f;c<d;c++){b[c]&&(f=b[c].split("="))&&e.push({name:f[0],value:f[1]})}return e};var old=context.reqwest;reqwest.noConflict=function(){return context.reqwest=old,this},typeof module!="undefined"?module.exports=reqwest:context.reqwest=reqwest}(this,window);var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noembed:4,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0},html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=function(aa){function U(b){b=Z(b);if(Y.hasOwnProperty(b)){return Y[b]}var c=b.match(W);return c?String.fromCharCode(parseInt(c[1],10)):(c=b.match(V))?String.fromCharCode(parseInt(c[1],16)):""}function T(d,c){return U(c)}function R(b){return b.replace(S,"")}function P(b){return b.replace(Q,T)}function H(b){return b.replace(O,"&amp;").replace(M,"&lt;").replace(K,"&gt;").replace(J,"&#34;").replace(I,"&#61;")}function G(b){return b.replace(N,"&amp;$1").replace(M,"&lt;").replace(K,"&gt;")}function D(b){return function a(ag,af){ag=String(ag);var ae=null,ad=!1,ac=[],ab=void 0,z=void 0,y=void 0;b.startDoc&&b.startDoc(af);while(ag){var x=ag.match(ad?F:E);ag=ag.substring(x[0].length);if(ad){if(x[1]){var v=Z(x[1]),u;if(x[2]){var t=x[3];switch(t.charCodeAt(0)){case 34:case 39:t=t.substring(1,t.length-1)}u=P(R(t))}else{u=v}ac.push(v,u)}else{if(x[4]){z!==void 0&&(y?b.startTag&&b.startTag(ab,ac,af):b.endTag&&b.endTag(ab,af));if(y&&z&(aa.eflags.CDATA|aa.eflags.RCDATA)){ae===null?ae=Z(ag):ae=ae.substring(ae.length-ag.length);var c=ae.indexOf("</"+ab);c<0&&(c=ag.length),c&&(z&aa.eflags.CDATA?b.cdata&&b.cdata(ag.substring(0,c),af):b.rcdata&&b.rcdata(G(ag.substring(0,c)),af),ag=ag.substring(c))}ab=z=y=void 0,ac.length=0,ad=!1}}}else{if(x[1]){b.pcdata&&b.pcdata(x[0],af)}else{if(x[3]){y=!x[2],ad=!0,ab=Z(x[3]),z=aa.ELEMENTS.hasOwnProperty(ab)?aa.ELEMENTS[ab]:void 0}else{if(x[4]){b.pcdata&&b.pcdata(x[4],af)}else{if(x[5]&&b.pcdata){var ah=x[5];b.pcdata(ah==="<"?"&lt;":ah===">"?"&gt;":"&amp;",af)}}}}}}b.endDoc&&b.endDoc(af)}}function C(a){var f,e;return D({startDoc:function(b){f=[],e=!1},startTag:function(q,p,o){if(e){return}if(!aa.ELEMENTS.hasOwnProperty(q)){return}var n=aa.ELEMENTS[q];if(n&aa.eflags.FOLDABLE){return}if(n&aa.eflags.UNSAFE){e=!(n&aa.eflags.EMPTY);return}p=a(q,p);if(p){n&aa.eflags.EMPTY||f.push(q),o.push("<",q);for(var m=0,d=p.length;m<d;m+=2){var c=p[m],b=p[m+1];b!==null&&b!==void 0&&o.push(" ",c,'="',H(b),'"')}o.push(">")}},endTag:function(c,o){if(e){e=!1;return}if(!aa.ELEMENTS.hasOwnProperty(c)){return}var n=aa.ELEMENTS[c];if(!(n&(aa.eflags.UNSAFE|aa.eflags.EMPTY|aa.eflags.FOLDABLE))){var m;if(n&aa.eflags.OPTIONAL_ENDTAG){for(m=f.length;--m>=0;){var k=f[m];if(k===c){break}if(!(aa.ELEMENTS[k]&aa.eflags.OPTIONAL_ENDTAG)){return}}}else{for(m=f.length;--m>=0;){if(f[m]===c){break}}}if(m<0){return}for(var d=f.length;--d>m;){var k=f[d];aa.ELEMENTS[k]&aa.eflags.OPTIONAL_ENDTAG||o.push("</",k,">")}f.length=m,o.push("</",c,">")}},pcdata:function(d,c){e||c.push(d)},rcdata:function(d,c){e||c.push(d)},cdata:function(d,c){e||c.push(d)},endDoc:function(d){for(var c=f.length;--c>=0;){d.push("</",f[c],">")}f.length=0}})}function A(a,m,k){var h=[];return C(function d(c,s){for(var r=0;r<s.length;r+=2){var q=s[r],p=s[r+1],o=null,n;if((n=c+"::"+q,aa.ATTRIBS.hasOwnProperty(n))||(n="*::"+q,aa.ATTRIBS.hasOwnProperty(n))){o=aa.ATTRIBS[n]}if(o!==null){switch(o){case aa.atype.NONE:break;case aa.atype.SCRIPT:case aa.atype.STYLE:p=null;break;case aa.atype.ID:case aa.atype.IDREF:case aa.atype.IDREFS:case aa.atype.GLOBAL_NAME:case aa.atype.LOCAL_NAME:case aa.atype.CLASSES:p=k?k(p):p;break;case aa.atype.URI:var e=(""+p).match(B);e?!e[1]||X.test(e[1])?p=m&&m(p):p=null:p=null;break;case aa.atype.URI_FRAGMENT:p&&"#"===p.charAt(0)?(p=k?k(p):p,p&&(p="#"+p)):p=null;break;default:p=null}}else{p=null}s[r+1]=p}return s})(a,h),h.join("")}var Z;"script"==="SCRIPT".toLowerCase()?Z=function(b){return b.toLowerCase()}:Z=function(b){return b.replace(/[A-Z]/g,function(c){return String.fromCharCode(c.charCodeAt(0)|32)})};var Y={lt:"<",gt:">",amp:"&",nbsp:" ",quot:'"',apos:"'"},X=/^(?:https?|mailto|data)$/i,W=/^#(\d+)$/,V=/^#x([0-9A-Fa-f]+)$/,S=/\0/g,Q=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,O=/&/g,N=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,M=/</g,K=/>/g,J=/\"/g,I=/\=/g,F=new RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[\\s\\S][^a-z\\s>]*)","i"),E=new RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i"),B=new RegExp("^(?:([^:/?#]+):)?");return{escapeAttrib:H,makeHtmlSanitizer:C,makeSaxParser:D,normalizeRCData:G,sanitize:A,unescapeEntities:P}}(html4),html_sanitize=html.sanitize;typeof window!="undefined"&&(window.html=html,window.html_sanitize=html_sanitize),html4.ATTRIBS["*::style"]=0,html4.ELEMENTS.style=0;var Mustache=function(){var d={},c=function(){};return c.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(g,f,m,k){k||(this.context=f,this.buffer=[]);if(!this.includes("",g)){if(k){return g}this.send(g);return}g=this.render_pragmas(g);var h=this.render_section(g,f,m);h===!1&&(h=this.render_tags(g,f,m,k));if(k){return h}this.sendLines(h)},send:function(b){b!==""&&this.buffer.push(b)},sendLines:function(f){if(f){var e=f.split("\n");for(var g=0;g<e.length;g++){this.send(e[g])}}},render_pragmas:function(f){if(!this.includes("%",f)){return f}var e=this,g=this.getCachedRegex("render_pragmas",function(k,h){return new RegExp(k+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+h,"g")});return f.replace(g,function(b,m,k){if(!e.pragmas_implemented[m]){throw {message:"This implementation of mustache doesn't understand the '"+m+"' pragma"}}e.pragmas[m]={};if(k){var h=k.split("=");e.pragmas[m][h[0]]=h[1]}return""})},render_partial:function(f,e,g){f=this.trim(f);if(!g||g[f]===undefined){throw {message:"unknown_partial '"+f+"'"}}return typeof e[f]!="object"?this.render(g[f],e,g,!0):this.render(g[f],e[f],g,!0)},render_section:function(g,f,m){if(!this.includes("#",g)&&!this.includes("^",g)){return !1}var k=this,h=this.getCachedRegex("render_section",function(n,e){return new RegExp("^([\\s\\S]*?)"+n+"(\\^|\\#)\\s*(.+)\\s*"+e+"\n*([\\s\\S]*?)"+n+"\\/\\s*\\3\\s*"+e+"\\s*([\\s\\S]*)$","g")});return g.replace(h,function(v,u,t,s,r,q){var p=u?k.render_tags(u,f,m,!0):"",o=q?k.render(q,f,m,!0):"",n,b=k.find(s,f);return t==="^"?!b||k.is_array(b)&&b.length===0?n=k.render(r,f,m,!0):n="":t==="#"&&(k.is_array(b)?n=k.map(b,function(e){return k.render(r,k.create_context(e),m,!0)}).join(""):k.is_object(b)?n=k.render(r,k.create_context(b),m,!0):typeof b=="function"?n=b.call(f,r,function(e){return k.render(e,f,m,!0)}):b?n=k.render(r,f,m,!0):n=""),p+n+o})},render_tags:function(u,t,s,r){var q=this,p=function(){return q.getCachedRegex("render_tags",function(f,e){return new RegExp(f+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+e+"+","g")})},o=p(),n=function(b,f,e){switch(f){case"!":return"";case"=":return q.set_delimiters(e),o=p(),"";case">":return q.render_partial(e,t,s);case"{":return q.find(e,t);default:return q.escape(q.find(e,t))}},m=u.split("\n");for(var k=0;k<m.length;k++){m[k]=m[k].replace(o,n,this),r||this.send(m[k])}if(r){return m.join("\n")}},set_delimiters:function(f){var e=f.split(" ");this.otag=this.escape_regex(e[0]),this.ctag=this.escape_regex(e[1])},escape_regex:function(f){if(!arguments.callee.sRE){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+e.join("|\\")+")","g")}return f.replace(arguments.callee.sRE,"\\$1")},find:function(f,e){function h(b){return b===!1||b===0||b}f=this.trim(f);var g;return h(e[f])?g=e[f]:h(this.context[f])&&(g=this.context[f]),typeof g=="function"?g.apply(e):g!==undefined?g:""},includes:function(f,e){return e.indexOf(this.otag+f)!=-1},escape:function(b){return b=String(b===null?"":b),b.replace(/&(?!\w+;)|["'<>\\]/g,function(e){switch(e){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(f){if(this.is_object(f)){return f}var e=".";this.pragmas["IMPLICIT-ITERATOR"]&&(e=this.pragmas["IMPLICIT-ITERATOR"].iterator);var g={};return g[e]=f,g},is_object:function(b){return b&&typeof b=="object"},is_array:function(b){return Object.prototype.toString.call(b)==="[object Array]"},trim:function(b){return b.replace(/^\s*|\s*$/g,"")},map:function(g,f){if(typeof g.map=="function"){return g.map(f)}var m=[],k=g.length;for(var h=0;h<k;h++){m.push(f(g[h]))}return m},getCachedRegex:function(a,m){var k=d[this.otag];k||(k=d[this.otag]={});var h=k[this.ctag];h||(h=k[this.ctag]={});var g=h[a];return g||(g=h[a]=m(this.otag,this.ctag)),g}},{name:"mustache.js",version:"0.4.0-dev",to_html:function(b,m,k,h){var g=new c;h&&(g.send=h),g.render(b,m||{},k);if(!h){return g.buffer.join("\n")}}}}();wax=wax||{},wax.attribution=function(){function h(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function g(b){return b}var f,e={};return e.set=function(a){if(typeof a=="undefined"){return}return f.innerHTML=html_sanitize(a,h,g),this},e.element=function(){return f},e.init=function(){return f=document.createElement("div"),f.className="wax-attribution",this},e.init()},wax=wax||{},wax.bwdetect=function(m,k){function n(){wax.bw=-1;var d=new Image;d.src=q;var c=!0,e=setTimeout(function(){c&&wax.bw==-1&&(s.bw(0),c=!1)},r);d.onload=function(){c&&wax.bw==-1&&(clearTimeout(e),s.bw(1),c=!1)}}var s={},r=m.threshold||400,q="http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache="+ +(new Date),p=1,o=m.auto===undefined?!0:m.auto;return s.bw=function(b){if(!arguments.length){return p}var d=p;wax.bwlisteners&&wax.bwlisteners.length&&function(){listeners=wax.bwlisteners,wax.bwlisteners=[];for(i=0;i<listeners;i++){listeners[i](b)}}(),wax.bw=b,p!=(p=b)&&k(b)},s.add=function(){return o&&n(),this},wax.bw==-1?(wax.bwlisteners=wax.bwlisteners||[],wax.bwlisteners.push(s.bw)):wax.bw!==undefined?s.bw(wax.bw):s.add(),s},wax.formatter=function(x){function urlX(a){if(/^(https?:\/\/|data:image)/.test(a)){return a}}function idX(a){return a}var formatter={},f;if(x&&typeof x=="string"){try{eval("f = "+x)}catch(e){console&&console.log(e)}}else{x&&typeof x=="function"?f=x:f=function(){}}return formatter.format=function(a,b){try{return html_sanitize(f(a,b),urlX,idX)}catch(c){console&&console.log(c)}},formatter},wax.GridInstance=function(k,h,q){function m(b){return b>=93&&b--,b>=35&&b--,b-=32,b}q=q||{};var p={},o=q.resolution||4,n=q.tileSize||256;return p.grid_tile=function(){return k},p.getKey=function(a,d){if(!k||!k.grid){return}if(d<0||a<0){return}if(Math.floor(d)>=n||Math.floor(a)>=n){return}return m(k.grid[Math.floor(d/o)].charCodeAt(Math.floor(a/o)))},p.gridFeature=function(a,r){var g=this.getKey(a,r),f=k.keys;if(f&&f[g]&&k.data[f[g]]){return k.data[f[g]]}},p.tileFeature=function(t,s,r,b){if(!k){return}var a=wax.util.offset(r);feature=this.gridFeature(t-a.left,s-a.top);if(feature){return h.format(b,feature)}},p},wax.GridManager=function(m){function n(d){return typeof d=="string"&&(d=[d]),function c(a){if(!a){return}var f=new RegExp("/(\\d+)\\/(\\d+)\\/(\\d+)\\.[\\w\\._]+"),e=f.exec(a);if(!e){return}return d[parseInt(e[2],10)%d.length].replace("{z}",e[1]).replace("{x}",e[2]).replace("{y}",e[3])}}m=m||{};var k=m.resolution||4,s=m.version||"1.1",r={},q={},p,o=function(b){return b.replace(/(\.png|\.jpg|\.jpeg)(\d*)/,".grid.json")};return q.formatter=function(b){return arguments.length?(p=wax.formatter(b),q):p},q.template=function(b){return arguments.length?(p=wax.template(b),q):p},q.gridUrl=function(b){return arguments.length?(o=typeof b=="function"?b:n(b),q):o},q.getGrid=function(b,f){var e=o(b);return !p||!e?f(null,null):(wax.request.get(e,function(c,g){if(c){return f(c,null)}f(null,wax.GridInstance(g,p,{resolution:k||4}))}),q)},q.add=function(b){return b.template?q.template(b.template):b.formatter&&q.formatter(b.formatter),b.grids&&q.gridUrl(b.grids),this},q.add(m)},wax=wax||{},wax.hash=function(u){function t(){return location.hash.substring(1)}function s(b){location.hash="#"+b}function o(a){var f=a.split("/");for(var e=0;e<f.length;e++){f[e]=Number(f[e]);if(isNaN(f[e])){return !0}}if(f.length<3){return !0}f.length==3&&u.setCenterZoom(f)}function n(){var a=u.getCenterZoom();r!==a&&(r=a,s(r))}function m(b){if(b===r){return}o(r=b)&&n()}u=u||{};var r,q={},p=90-1e-8,k=wax.util.throttle(n,500);return q.add=function(){return m(t()),u.bindChange(k),this},q.remove=function(){return u.unbindChange(k),this},q.add()};var wax=wax||{};wax.legend=function(){function k(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function h(b){return b}var g,f={},m;return f.element=function(){return m},f.content=function(a){return arguments.length?(a?(g.innerHTML=html_sanitize(a,k,h),g.style.display="block"):(g.innerHTML="",g.style.display="none"),this):g.innerHTML},f.add=function(){return m=document.createElement("div"),m.className="wax-legends",g=document.createElement("div"),g.className="wax-legend",g.style.display="none",m.appendChild(g),this},f.add()};var w=function(b){return b.melt=function(a,d){return a.apply(d,[b,d])},b},wax=wax||{};wax.movetip={},wax.movetip=function(x){function q(b){return b&&b.className.indexOf("wax-popup")!==-1}function p(e,d){var f=document.createElement("div");return f.className="wax-movetip",f.style.cssText="position:absolute;",f.innerHTML=e,d.appendChild(f),t=d,_tooltipOffset=wax.util.offset(f),_contextOffset=wax.util.offset(t),f}function o(d){if(!u){return}var c=wax.util.eventoffset(d);u.className="wax-movetip",_tooltipOffset.height+c.y>_contextOffset.top+_contextOffset.height&&_contextOffset.height>_tooltipOffset.height&&(c.y-=_tooltipOffset.height,u.className+=" flip-y"),_tooltipOffset.width+c.x>_contextOffset.left+_contextOffset.width&&(c.x-=_tooltipOffset.width,u.className+=" flip-x"),u.style.left=c.x+"px",u.style.top=c.y+"px"}function n(e){if(!e){return}var d,f=function(){this.parentNode&&this.parentNode.removeChild(this)};e.style["-webkit-transition"]!==undefined&&s?d="webkitTransitionEnd":e.style.MozTransition!==undefined&&s&&(d="transitionend"),d?(e.addEventListener(d,f,!1),e.addEventListener("transitionend",f,!1),e.className+=" "+s):e.parentNode&&e.parentNode.removeChild(e)}function m(g,c){u&&(n(u),u=undefined);var y=p(g,c);y.className+=" wax-popup",y.innerHTML=g;var k=document.createElement("a");k.href="#close",k.className="close",k.innerHTML="Close",y.appendChild(k);var h=function(b){return n(y),u=undefined,b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),!1};k.addEventListener?k.addEventListener("click",h,!1):k.attachEvent&&k.attachEvent("onclick",h),u=y}x=x||{};var v={},u=undefined,t=undefined,s=x.animationOut,r=x.animationIn;return v.over=function(e,c,f){if(!e){return}c.style.cursor="pointer";if(q(u)){return}u=p(e,c),o(f),c.addEventListener&&c.addEventListener("mousemove",o)},v.out=function(b){b.style.cursor="default";if(q(u)){return}u&&(n(u),b.removeEventListener&&b.removeEventListener("mousemove",o),u=undefined)},v};var wax=wax||{};wax.request={cache:{},locks:{},promises:{},get:function(e,d){if(this.cache[e]){return d(this.cache[e][0],this.cache[e][1])}this.promises[e]=this.promises[e]||[],this.promises[e].push(d);if(this.locks[e]){return}var f=this;this.locks[e]=!0,reqwest({url:e+(~e.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:function(a){f.locks[e]=!1,f.cache[e]=[null,a];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}},error:function(a){f.locks[e]=!1,f.cache[e]=[a,null];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}}})}},wax.template=function(f){function h(b){if(/^(https?:\/\/|data:image)/.test(b)){return b}}function g(b){return b}var e={};return e.format=function(a,k){var d={};for(var c in k){d[c]=k[c]}return a.format&&(d["__"+a.format+"__"]=!0),html_sanitize(Mustache.to_html(f,d),h,g)},e};if(!wax){var wax={}}wax.tilejson=function(d,c){reqwest({url:d+(~d.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:c,error:c})};var wax=wax||{};wax.tooltip={},wax.tooltip=function(b){this._currentTooltip=undefined,b=b||{},b.animationOut&&(this.animationOut=b.animationOut),b.animationIn&&(this.animationIn=b.animationIn)},wax.tooltip.prototype.isPopup=function(b){return b&&b.className.indexOf("wax-popup")!==-1},wax.tooltip.prototype.getTooltip=function(k,h){function p(e,d,f){e.addEventListener?(e.addEventListener(d,f,!1),d=="mousewheel"&&e.addEventListener("DOMMouseScroll",f,!1)):e.attachEvent&&(e["e"+d+f]=f,e[d+f]=function(){e["e"+d+f](window.event)},e.attachEvent("on"+d,e[d+f]))}function o(b){return b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),this}var q=document.createElement("div");q.className="wax-tooltip wax-tooltip-0",q.innerHTML=k,h.appendChild(q);var n=["mousewheel","mousemove","click","dblclick"];for(var m=0;m<n.length;m++){p(q,n[m],o)}return q},wax.tooltip.prototype.hideTooltip=function(e){if(!e){return}var d,f=function(){this.parentNode&&this.parentNode.removeChild(this)};e.style["-webkit-transition"]!==undefined&&this.animationOut?d="webkitTransitionEnd":e.style.MozTransition!==undefined&&this.animationOut&&(d="transitionend"),d?(e.addEventListener(d,f,!1),e.addEventListener("transitionend",f,!1),e.className+=" "+this.animationOut):e.parentNode&&e.parentNode.removeChild(e)},wax.tooltip.prototype.click=function(g,f){this._currentTooltip&&(this.hideTooltip(this._currentTooltip),this._currentTooltip=undefined);var m=this.getTooltip(g,f);m.className+=" wax-popup",m.innerHTML=g;var k=document.createElement("a");k.href="#close",k.className="close",k.innerHTML="Close",m.appendChild(k);var h=wax.util.bind(function(b){return this.hideTooltip(m),this._currentTooltip=undefined,b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),!1},this);k.addEventListener?(k.addEventListener("click",h,!1),k.addEventListener("touchend",h,!1)):k.attachEvent&&k.attachEvent("onclick",h),this._currentTooltip=m},wax.tooltip.prototype.over=function(d,c){if(!d){return}c.style.cursor="pointer";if(this.isPopup(this._currentTooltip)){return}this._currentTooltip=this.getTooltip(d,c)},wax.tooltip.prototype.out=function(b){b.style.cursor="default";if(this.isPopup(this._currentTooltip)){return}this._currentTooltip&&(this.hideTooltip(this._currentTooltip),this._currentTooltip=undefined)};var wax=wax||{};wax.util=wax.util||{},wax.util={offset:function(t){var s=t.offsetWidth||parseInt(t.style.width,10),r=t.offsetHeight||parseInt(t.style.height,10),q=document.body,p=0,o=0,n=function(e){if(e===q||e===document.documentElement){return}p+=e.offsetTop,o+=e.offsetLeft;var d=e.style.transform||e.style.WebkitTransform||e.style.OTransform||e.style.MozTransform||e.style.msTransform;if(d){if(match=d.match(/translate\((.+)px, (.+)px\)/)){p+=parseInt(match[2],10),o+=parseInt(match[1],10)}else{if(match=d.match(/translate3d\((.+)px, (.+)px, (.+)px\)/)){p+=parseInt(match[2],10),o+=parseInt(match[1],10)}else{if(match=d.match(/matrix3d\(([\-\d,\s]+)\)/)){var f=match[1].split(",");p+=parseInt(f[13],10),o+=parseInt(f[12],10)}else{if(match=d.match(/matrix\(.+, .+, .+, .+, (.+), (.+)\)/)){p+=parseInt(match[2],10),o+=parseInt(match[1],10)}}}}}};n(t);try{while(t=t.offsetParent){n(t)}}catch(m){}p+=q.offsetTop,o+=q.offsetLeft,p+=q.parentNode.offsetTop,o+=q.parentNode.offsetLeft;var k=document.defaultView?window.getComputedStyle(q.parentNode,null):q.parentNode.currentStyle;return q.parentNode.offsetTop!==parseInt(k.marginTop,10)&&!isNaN(parseInt(k.marginTop,10))&&(p+=parseInt(k.marginTop,10),o+=parseInt(k.marginLeft,10)),{top:p,left:o,height:r,width:s}},$:function(b){return typeof b=="string"?document.getElementById(b):b},bind:function(e,d){var f=Array.prototype.slice.call(arguments,2);return function(){return e.apply(d,f.concat(Array.prototype.slice.call(arguments)))}},isString:function(b){return !!(b===""||b&&b.charCodeAt&&b.substr)},indexOf:function(g,f){var m=Array.prototype.indexOf;if(g===null){return -1}var k,h;if(m&&g.indexOf===m){return g.indexOf(f)}for(k=0,h=g.length;k<h;k++){if(g[k]===f){return k}}return -1},isArray:Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},keys:Object.keys||function(f){var e=Object.prototype.hasOwnProperty;if(f!==Object(f)){throw new TypeError("Invalid object")}var h=[];for(var g in f){e.call(f,g)&&(h[h.length]=g)}return h},eventoffset:function(m){var k=0,s=0;if(!m){var m=window.event}if(m.pageX||m.pageY){return{x:m.pageX,y:m.pageY}}if(m.clientX||m.clientY){var r=document.documentElement,q=document.body,p=document.body.parentNode.currentStyle,o=parseInt(p.marginTop,10)||0,n=parseInt(p.marginLeft,10)||0;return{x:m.clientX+(r&&r.scrollLeft||q&&q.scrollLeft||0)-(r&&r.clientLeft||q&&q.clientLeft||0)+n,y:m.clientY+(r&&r.scrollTop||q&&q.scrollTop||0)-(r&&r.clientTop||q&&q.clientTop||0)+o}}if(m.touches&&m.touches.length===1){return{x:m.touches[0].pageX,y:m.touches[0].pageY}}},limit:function(f,e,h){var g;return function(){var c=this,b=arguments,a=function(){g=null,f.apply(c,b)};h&&clearTimeout(g);if(h||!g){g=setTimeout(a,e)}}},throttle:function(d,c){return this.limit(d,c,!1)}},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.interaction=function(ac,ab,aa){function I(){return J||(J=function(g){var f=[];for(var m in g){if(g[m]._tiles){for(var k in g[m]._tiles){var h=wax.util.offset(g[m]._tiles[k]);f.push([h.top,h.left,g[m]._tiles[k]])}}}return f}(ac._layers))}function H(d,c){J=null}function G(e){for(var d=0,f=I();d<f.length;d++){if(f[d][0]<e.y&&f[d][0]+256>e.y&&f[d][1]<e.x&&f[d][1]+256>e.x){return f[d][2]}}return !1}function F(){return R?(window.clearTimeout(R),R=null,!0):!1}function E(e){if(S){return}var d=wax.util.eventoffset(e),h=G(d),g;h&&Z.getGrid(h.src,function(b,c){if(b||!c){return}g=c.tileFeature(d.x,d.y,h,{format:"teaser"}),g?g&&O!==g?(O=g,Y.out(Q),Y.over(g,Q)):g||(O=null,Y.out(Q)):(O=null,Y.out(Q))})}function D(b){if(F()){return}S=!0,M=wax.util.eventoffset(b),b.type==="mousedown"?W(Q,"mouseup",B,this):b.type==="touchstart"&&b.touches.length===1&&(X=["full","teaser"],Y._currentTooltip&&Y.hideTooltip(Y._currentTooltip),W(Q,"touchend",B,this),W(Q,"touchmove",C,this))}function C(){V(Q,"touchend",B),V(Q,"touchmove",B),S=!1}function B(d){var c=wax.util.eventoffset(d);return S=!1,V(Q,"mouseup",B),Q.ontouchend&&(V(Q,"touchend",B),V(Q,"touchmove",_touchCancel)),d.type==="touchend"?N(d,M):Math.round(c.y/K)===Math.round(M.y/K)&&Math.round(c.x/K)===Math.round(M.x/K)&&(R=window.setTimeout(function(){R=null,N(d,c)},300)),B}function N(e,d){var h=G(d),f;h&&Z.getGrid(h.src,function(c,b){for(var a=0;b&&a<X.length;a++){f=b.tileFeature(d.x,d.y,h,{format:X[a]});if(f){switch(X[a]){case"full":case"teaser":return Y.click(f,Q,0,e);case"location":return U(f)}}}})}ab=ab||{},aa=aa||{};var Z=wax.GridManager(ab),Y=aa.callbacks||new wax.tooltip(aa),X=aa.clickAction||["full","location"],W=L.DomEvent.addListener,V=L.DomEvent.removeListener,U=aa.clickHandler||function(b){window.location=b},T={},S=!1,R=!1,Q=ac._container,P="ontouchstart" in document.documentElement,O,M,K=4,J;return T.add=function(){var a=["moveend","layerswitched"];for(var d=0;d<a.length;d++){ac.on(a[d],H)}return W(Q,"mousemove",E),W(Q,"mousedown",D),P&&W(Q,"touchstart",D),this},T.remove=function(){var a=["moveend","layerswitched"];for(var d=0;d<a.length;d++){ac.off(a[d],H)}return V(Q,"mousemove",E),V(Q,"mousedown",D),P&&V(Q,"touchstart",D),Y._currentTooltip&&Y.hideTooltip(Y._currentTooltip),this},T.add(ac)},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.connector=L.TileLayer.extend({initialize:function(b){b=b||{},b.minZoom=b.minzoom||0,b.maxZoom=b.maxzoom||22,L.TileLayer.prototype.initialize.call(this,b.tiles[0],b)}});var Mapbox=function(){var a;var b="http://api.tiles.mapbox.com/v3/mapbox.mapbox-streets.jsonp";var g={};g.battles=new L.LayerGroup();g.specials=new L.LayerGroup();g.regions=new L.LayerGroup();var d=function(p){var t,v,y,x,o,q,u;var s=0,n=0,r=0;for(i in p){t=p[i];v=t.coords;y=new Array();for(j in v){s+=parseFloat(v[j].lon);n+=parseFloat(v[j].lat);r++;y.push(new L.LatLng(v[j].lon,v[j].lat))}x=new L.Polygon(y,{color:"#333333",opacity:0.8,weight:2,fillColor:"#"+((t.clans[t.leader]&&t.clans[t.leader].color)?t.clans[t.leader].color:"666666"),fillOpacity:0.35});g.regions.addLayer(x);if(t.clans[t.leader]){q="<h1>"+t.name+'</h1><img src="'+t.clans[t.leader].icon+'" /><ul class="statistics">';u=t.clans[t.leader].possession;for(j in t.clans){o=t.clans[j];q+='<li class="'+o.name+'"><span style="height:'+(o.possession/u)*100+'%">'+o.name+" "+o.posession+"%</span></li>"}q+="</ul>";x.bindPopup(q)}}e(g.regions);a.setView(new L.LatLng(s/r,n/r),12)};var h=function(p){var q,n;var o=L.Icon.extend({iconUrl:static_url+"img/ico_battle.svg",iconSize:new L.Point(32,44),shadowUrl:null,iconAnchor:new L.Point(14,40),});for(i in p){q=p[i];n=new L.Marker(new L.LatLng(q.lat,q.lon),{icon:new o()});html="<h1>"+q.name+'</h1><img src="'+static_url+'img/ico_sword.svg" /><span class="points">+'+q.points+"</span>";g.battles.addLayer(n)}e(g.battles)};var f=function(q){var p,n,o;for(i in q){p=q[i];venueIcon=L.Icon.extend({iconUrl:static_url+"img/ico_arena.svg",iconSize:new L.Point(32,44),shadowUrl:null,iconAnchor:new L.Point(14,40),});n=new L.Marker(new L.LatLng(p.lat,p.lon),{icon:new venueIcon()});o="<h1>"+p.name+'</h1><img src="'+static_url+'img/ico_tower.svg" /><span class="points">+'+p.multiplier+"</span>";n.bindPopup(o);g.specials.addLayer(n)}e(g.specials)};var c=function(n){if(n.state===undefined){e(n)}else{if(n.state==1){k(n)}else{e(n)}}};var e=function(n){n.state=1;a.addLayer(n)};var k=function(n){n.state=0;a.removeLayer(n)};var m=function(n){a=new L.Map(n,{minZoom:10,zoom:12});wax.tilejson(b,function(o){a.addLayer(new wax.leaf.connector(o));$.getJSON(site_url+"api/regions.json",{},function(p){if(p){d(p)}});$.getJSON(site_url+"api/specials.json",{},function(p){if(p){f(p)}});$.getJSON(site_url+"api/users/"+user+"/battles.json",{},function(p){if(p){h(p)}})})};return{map:a,layers:g,init:m,toggleLayer:c,showLayer:e,hideLayer:k}};